"use strict";(self.webpackChunkdemo=self.webpackChunkdemo||[]).push([[44905],{44905:(J,E,_)=>{_.r(E),_.d(E,{default:()=>y});var l,O=_(84911),r=_(4594),c=_(66094),d=_(85483),u=_(37399),p=_(69104),D=_(98808),g=_(39908),C=_(13448),P=_(19403),x=_(275),h=_(51160),f=_(64870),M=_(905),v=_(29963),A=_(97318),U=_(89407),t=_(35548),L=_(38252),I=_(63142),K=_(53958);function B(i,e){if(1&i){const n=t.EpF();t.TgZ(0,"button",6),t.NdJ("click",function(){const s=t.CHM(n).$implicit,F=t.oxw(4);return t.KtG(F.onClick(s))}),t.TgZ(1,"tui-avatar",7),t._uU(2),t.qZA(),t.TgZ(3,"span",8)(4,"span"),t._uU(5),t.qZA(),t.TgZ(6,"span",9),t._uU(7),t.qZA()()()}if(2&i){const n=e.$implicit;t.Q6J("disabled",n.disabled)("value",n.phone),t.xp6(1),t.Q6J("src",n.avatarUrl),t.xp6(1),t.hij(" ",n.firstName," "),t.xp6(3),t.AsE("",n.firstName," ",n.lastName,""),t.xp6(2),t.Oqu(n.phone)}}function R(i,e){if(1&i&&(t.TgZ(0,"tui-data-list"),t.YNc(1,B,8,7,"button",5),t.qZA()),2&i){const n=t.oxw(2).tuiLet;t.xp6(1),t.Q6J("ngForOf",n)}}function W(i,e){1&i&&(t.ynx(0),t.YNc(1,R,2,1,"tui-data-list",4),t.BQk())}function $(i,e){if(1&i){const n=t.EpF();t.TgZ(0,"tui-input-phone",2),t.NdJ("ngModelChange",function(o){t.CHM(n);const s=t.oxw();return t.KtG(s.value=o)})("searchChange",function(o){t.CHM(n);const s=t.oxw();return t.KtG(s.onSearch(o))}),t._uU(1),t.ALo(2,"async"),t.YNc(3,W,2,0,"ng-container",3),t.qZA()}if(2&i){const n=e.tuiLet,a=t.oxw(),o=t.MAs(3);t.Q6J("allowText",!0)("tuiTextfieldCustomContent",o)("ngModel",a.value),t.xp6(1),t.hij(" ",t.lcZ(2,5,a.placeholder$)," "),t.xp6(2),t.Q6J("ngIf",null==n?null:n.length)}}function Z(i,e){if(1&i&&(t.TgZ(0,"tui-avatar",11),t._uU(1),t.qZA()),2&i){const n=e.ngIf;t.Q6J("src",n.avatarUrl),t.xp6(1),t.hij(" ",n.firstName," ")}}function N(i,e){if(1&i&&(t.YNc(0,Z,2,2,"tui-avatar",10),t.ALo(1,"async")),2&i){const n=t.oxw();t.Q6J("ngIf",t.lcZ(1,1,n.user$))}}class T{constructor(e,n,a,o=null,s=!1){this.firstName=e,this.lastName=n,this.phone=a,this.avatarUrl=o,this.disabled=s}toString(){return`${this.firstName} ${this.lastName}`}}const j=[new T("Roman","Sedov","+75678901234","https://avatars.githubusercontent.com/u/10106368"),new T("Alex","Inkin","+75678901234",d.Ll`/images/avatar.jpg`)];class m{constructor(){this.search$=new C.x,this.selected$=new C.x,this.value="",this.user$=(0,P.T)(this.selected$,this.search$.pipe((0,x.w)(e=>this.request(e).pipe((0,h.U)(n=>this.isFullMatch(n,e)?n[0]:null))))).pipe((0,f.b)(e=>{e&&(this.value=e.phone)})),this.items$=this.search$.pipe((0,M.O)(""),(0,x.w)(e=>this.request(e).pipe((0,h.U)(n=>this.isFullMatch(n,e)?[]:n)))),this.placeholder$=(0,v.a)([this.user$,this.search$]).pipe((0,h.U)(([e,n])=>e||this.getPlaceholder(n)),(0,M.O)("Phone number or name"))}onSearch(e){this.search$.next(e)}onClick(e){this.selected$.next(e)}request(e){return(0,A.of)(j.filter(n=>(0,u.TUI_DEFAULT_MATCHER)(n,e)||(0,u.TUI_DEFAULT_MATCHER)(n.phone,e))).pipe((0,U.B)())}getPlaceholder(e){return e?e.startsWith("+")?"Phone number":"Name":"Phone number or name"}isFullMatch(e,n){return 1===e.length&&(String(e[0])===n||e[0].phone===n)}}(l=m).\u0275fac=function(e){return new(e||l)},l.\u0275cmp=t.Xpm({type:l,selectors:[["ng-component"]],standalone:!0,exportAs:"ExampleComponent3",features:[t.jDz],decls:6,vars:4,consts:[[3,"allowText","tuiTextfieldCustomContent","ngModel","ngModelChange","searchChange",4,"tuiLet"],["avatar",""],[3,"allowText","tuiTextfieldCustomContent","ngModel","ngModelChange","searchChange"],[4,"ngIf"],[4,"tuiDataList"],["tuiOption","",3,"disabled","value","click",4,"ngFor","ngForOf"],["tuiOption","",3,"disabled","value","click"],["size","s",1,"tui-space_right-3",3,"src"],[1,"user"],[1,"phone"],["size","s",3,"src",4,"ngIf"],["size","s",3,"src"]],template:function(e,n){1&e&&(t.YNc(0,$,4,7,"tui-input-phone",0),t.ALo(1,"async"),t.YNc(2,N,2,3,"ng-template",null,1,t.W1O),t.TgZ(4,"p"),t._uU(5),t.qZA()),2&e&&(t.Q6J("tuiLet",t.lcZ(1,2,n.items$)),t.xp6(5),t.hij("Value: ",n.value,""))},dependencies:[g.Kjg,L.y,I.X,u.TuiLetDirective,r.Ov,g.cnw,K.B,c.u5,c.JJ,c.On,r.O5,p.TuiDataListComponent,p.TuiDataListDirective,r.sg,p.TuiOptionComponent,D.TuiAvatarComponent],styles:[".user[_ngcontent-%COMP%]{margin-right:auto}.phone[_ngcontent-%COMP%]{font:var(--tui-font-text-s);display:block;color:var(--tui-text-03)}"],changeDetection:0}),(0,O.gn)([u.tuiPure],m.prototype,"request",null);const y=m}}]);