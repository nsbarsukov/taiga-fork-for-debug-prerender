(self.webpackChunkdemo=self.webpackChunkdemo||[]).push([[5435],{5435:(t,e,i)=>{i.r(e),i.d(e,{TUI_ALWAYS_DASHED:()=>A,TUI_ALWAYS_DOTTED:()=>U,TUI_ALWAYS_NONE:()=>F,TUI_ALWAYS_SOLID:()=>Q,TUI_LINE_CHART_DEFAULT_OPTIONS:()=>_t,TUI_LINE_CHART_OPTIONS:()=>yt,TuiArcChartComponent:()=>y,TuiAxesComponent:()=>R,TuiBarChartComponent:()=>dt,TuiBarComponent:()=>j,TuiBarSetComponent:()=>ot,TuiLegendItemComponent:()=>ft,TuiLineChartComponent:()=>At,TuiLineChartHintDirective:()=>It,TuiLineDaysChartComponent:()=>Gt,TuiLineDaysChartHintDirective:()=>Rt,TuiPieChartComponent:()=>ce,TuiPieChartDirective:()=>ie,TuiRingChartComponent:()=>he,tuiLineChartDrivers:()=>Pt,tuiLineChartOptionsProvider:()=>bt});var n=i(35548),o=i(54795),s=i(23362),r=i(37399),a=i(19403),l=i(51160),c=i(20982),u=i(275),h=i(905),d=i(64870),g=i(84439);const p=["arc"];function f(t,e){if(1&t&&(n.O4$(),n.TgZ(0,"svg",4),n._UZ(1,"path",5)(2,"path",6,7),n.qZA()),2&t){const t=e.$implicit,i=n.oxw();n.Udp("height",i.getDiameter(t),"em")("left",i.getInset(t),"em")("top",i.getInset(t),"em")("width",i.getDiameter(t),"em"),n.xp6(2),n.Udp("stroke",i.getColor(t))("stroke-dasharray",i.getLength(t),"em")("stroke-dashoffset",i.initialized?i.getOffset(t):i.getLength(t),"em"),n.ekj("t-value_inactive",i.isInactive(t))}}const m=["*"],x={m:9,l:11,xl:16},v={m:.25,l:.375,xl:.5625},_={m:.125,l:.1875,xl:.25};let y=(()=>{var t;class e{constructor(){this.sanitizer=(0,n.f3M)(s.H7),this.arcs$=new c.t(1),this.initialized=!1,this.value=[],this.size="m",this.max=100,this.minLabel="0%",this.maxLabel="100%",this.activeItemIndex=NaN,this.activeItemIndexChange=this.arcs$.pipe((0,u.w)((t=>t.changes.pipe((0,h.O)(null),(0,u.w)((()=>(0,a.T)(...function(t){return t.map((({nativeElement:t},e)=>(0,a.T)((0,r.tuiTypedFromEvent)(t,"mouseenter").pipe((0,l.U)((()=>e))),(0,r.tuiTypedFromEvent)(t,"mouseleave").pipe((0,l.U)((()=>NaN))))))}(t))))))),(0,d.b)((t=>{this.activeItemIndex=t}))),(0,g.H)(0).pipe((0,r.tuiWatch)((0,n.f3M)(n.sBO)),(0,o.sL)()).subscribe((()=>{this.initialized=!0}))}set arcs(t){this.arcs$.next(t)}get width(){return x[this.size]}get strokeWidth(){return v[this.size]}isInactive(t){return!Number.isNaN(this.activeItemIndex)&&t!==this.activeItemIndex}getInset(t){return this.strokeWidth/2+t*(this.strokeWidth+_[this.size])}getDiameter(t){return x[this.size]-2*this.getInset(t)}getLength(t){return Math.PI*this.getDiameter(t)*.76}getOffset(t){return this.getLength(t)*(1-Math.min(this.value[t]/this.max,1))}getColor(t){return this.sanitizer.bypassSecurityTrustStyle(`var(--tui-chart-${t}, var(--tui-support-0${t+1}))`)}}return(t=e).ɵfac=function(e){return new(e||t)},t.ɵcmp=n.Xpm({type:t,selectors:[["tui-arc-chart"]],viewQuery:function(t,e){if(1&t&&n.Gf(p,5),2&t){let t;n.iGM(t=n.CRH())&&(e.arcs=t)}},hostVars:7,hostBindings:function(t,e){2&t&&(n.uIk("data-size",e.size),n.Udp("width",e.width,"rem")("height",e.width,"rem")("stroke-width",e.strokeWidth,"rem"))},inputs:{value:"value",size:"size",max:"max",minLabel:"minLabel",maxLabel:"maxLabel",activeItemIndex:"activeItemIndex"},outputs:{activeItemIndexChange:"activeItemIndexChange"},standalone:!0,features:[n.jDz],ngContentSelectors:m,decls:9,vars:3,consts:[["focusable","false","viewBox","-100 -100 200 200","xmlns","http://www.w3.org/2000/svg","class","t-svg",3,"height","left","top","width",4,"tuiRepeatTimes","tuiRepeatTimesOf"],[1,"t-content"],[1,"t-wrapper"],[1,"t-percent"],["focusable","false","viewBox","-100 -100 200 200","xmlns","http://www.w3.org/2000/svg",1,"t-svg"],["d","M -70 70 A 100 100 0 1 1 70 70","vector-effect","non-scaling-stroke"],["d","M -70 70 A 100 100 0 1 1 70 70","vector-effect","non-scaling-stroke",1,"t-value"],["arc",""]],template:function(t,e){1&t&&(n.F$t(),n.YNc(0,f,4,16,"svg",0),n.TgZ(1,"div",1)(2,"div",2),n.Hsn(3),n.qZA()(),n.TgZ(4,"div",3)(5,"span"),n._uU(6),n.qZA(),n.TgZ(7,"span"),n._uU(8),n.qZA()()),2&t&&(n.Q6J("tuiRepeatTimesOf",e.value.length),n.xp6(6),n.Oqu(e.minLabel),n.xp6(2),n.Oqu(e.maxLabel))},dependencies:[r.TuiRepeatTimesDirective],styles:["[_nghost-%COMP%]{position:relative;display:block;flex-shrink:0}.t-svg[_ngcontent-%COMP%]{position:absolute;top:0;left:0;bottom:0;right:0;overflow:visible;fill:none;stroke:currentColor;stroke-linecap:round;color:var(--tui-secondary);font-size:1rem;pointer-events:none}.t-value[_ngcontent-%COMP%]{pointer-events:auto;transition:stroke-dashoffset var(--tui-duration) ease-in-out,opacity var(--tui-duration) ease-in-out .1s}.t-value_inactive[_ngcontent-%COMP%]{transition-property:stroke-dashoffset,opacity;transition-duration:var(--tui-duration, .3s);transition-timing-function:ease-in-out;opacity:.16}.t-content[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:100%;height:100%;display:flex;justify-content:center;align-items:center;text-align:center;color:var(--tui-text-02);font:var(--tui-font-text-xs);pointer-events:none}[data-size=xl][_nghost-%COMP%]   .t-content[_ngcontent-%COMP%]{font:var(--tui-font-text-m)}.t-wrapper[_ngcontent-%COMP%]{pointer-events:auto}.t-wrapper[_ngcontent-%COMP%]:first-line{color:var(--tui-text-01)}[data-size=m][_nghost-%COMP%]   .t-wrapper[_ngcontent-%COMP%]:first-line{font:var(--tui-font-text-s);font-weight:700}[data-size=l][_nghost-%COMP%]   .t-wrapper[_ngcontent-%COMP%]:first-line{font:var(--tui-font-text-m);font-weight:700}[data-size=xl][_nghost-%COMP%]   .t-wrapper[_ngcontent-%COMP%]:first-line{font:var(--tui-font-heading-5)}.t-percent[_ngcontent-%COMP%]{position:absolute;left:25%;bottom:11%;display:flex;width:50%;justify-content:space-between;font:var(--tui-font-text-xs);color:var(--tui-text-02)}[data-size=xl][_nghost-%COMP%]   .t-percent[_ngcontent-%COMP%]{font:var(--tui-font-text-m)}"],changeDetection:0}),e})();var b=i(4594);function C(t,e){if(1&t&&(n.TgZ(0,"div",14),n._uU(1),n.qZA()),2&t){const t=n.oxw(2);n.xp6(1),n.hij(" ",t.axisYName," ")}}function O(t,e){if(1&t&&(n.TgZ(0,"div",17),n._uU(1),n.qZA()),2&t){const t=e.$implicit,i=n.oxw(3);n.xp6(1),n.hij(" ",i.fallback(t)," ")}}function M(t,e){if(1&t&&(n.TgZ(0,"div",15),n.YNc(1,O,2,1,"div",16),n.qZA()),2&t){const t=n.oxw(2);n.xp6(1),n.Q6J("ngForOf",t.axisYLabels)}}function w(t,e){if(1&t&&(n.TgZ(0,"div",11),n.YNc(1,C,2,1,"div",12),n.YNc(2,M,2,1,"div",13),n.qZA()),2&t){const t=n.oxw();n.ekj("t-side_padding",t.hasXLabels),n.xp6(1),n.Q6J("ngIf",t.axisYName),n.xp6(1),n.Q6J("ngIf",!t.axisYInset)}}function I(t,e){if(1&t&&n._UZ(0,"div",18),2&t){const t=e.$implicit,i=n.oxw();n.Udp("border-right-style",i.verticalLinesHandler(t,i.verticalLines))}}function P(t,e){if(1&t&&n._UZ(0,"div",19),2&t){const t=e.$implicit,i=n.oxw();n.Udp("border-top-style",i.horizontalLinesHandler(t,i.horizontalLines))}}function z(t,e){if(1&t&&(n.TgZ(0,"div",17),n._uU(1),n.qZA()),2&t){const t=e.$implicit,i=n.oxw(2);n.xp6(1),n.hij(" ",i.fallback(t)," ")}}function H(t,e){if(1&t&&(n.TgZ(0,"div",20),n.YNc(1,z,2,1,"div",16),n.qZA()),2&t){const t=n.oxw();n.xp6(1),n.Q6J("ngForOf",t.axisYLabels)}}function T(t,e){if(1&t&&(n.TgZ(0,"div",23),n._uU(1),n.qZA()),2&t){const t=e.$implicit,i=n.oxw(2);n.xp6(1),n.hij(" ",i.fallback(t)," ")}}function S(t,e){if(1&t&&(n.TgZ(0,"div",21),n.YNc(1,T,2,1,"div",22),n.qZA()),2&t){const t=n.oxw();n.xp6(1),n.Q6J("ngForOf",t.axisYSecondaryLabels)}}function N(t,e){if(1&t&&(n.TgZ(0,"div",26),n._uU(1),n.qZA()),2&t){const t=e.$implicit,i=n.oxw(2);n.ekj("t-label-x_transparent",null===t),n.xp6(1),n.hij(" ",i.fallback(t)," ")}}function k(t,e){if(1&t&&(n.TgZ(0,"div",24),n.YNc(1,N,2,3,"div",25),n.qZA()),2&t){const t=n.oxw();n.xp6(1),n.Q6J("ngForOf",t.axisXLabels)}}function L(t,e){if(1&t&&(n.TgZ(0,"div",23),n._uU(1),n.qZA()),2&t){const t=e.$implicit,i=n.oxw(3);n.xp6(1),n.hij(" ",i.fallback(t)," ")}}function Y(t,e){if(1&t&&(n.TgZ(0,"div",29),n.YNc(1,L,2,1,"div",22),n.qZA()),2&t){const t=n.oxw(2);n.xp6(1),n.Q6J("ngForOf",t.axisYSecondaryLabels)}}function Z(t,e){if(1&t&&(n.TgZ(0,"div",30),n._uU(1),n.qZA()),2&t){const t=n.oxw(2);n.xp6(1),n.hij(" ",t.axisYSecondaryName," ")}}function D(t,e){if(1&t&&(n.TgZ(0,"div",11),n.YNc(1,Y,2,1,"div",27),n.YNc(2,Z,2,1,"div",28),n.qZA()),2&t){const t=n.oxw();n.ekj("t-side_padding",t.hasXLabels),n.xp6(1),n.Q6J("ngIf",!t.axisYSecondaryInset),n.xp6(1),n.Q6J("ngIf",t.axisYSecondaryName)}}const $=["*"],A=()=>"dashed",U=()=>"dotted",Q=()=>"solid",F=()=>"none";let R=(()=>{var t;class e{constructor(){this.axisX="solid",this.axisXLabels=[],this.axisY="solid",this.axisYInset=!1,this.axisYLabels=[],this.axisYName="",this.axisYSecondaryInset=!1,this.axisYSecondaryLabels=[],this.axisYSecondaryName="",this.horizontalLines=0,this.horizontalLinesHandler=Q,this.verticalLines=0,this.verticalLinesHandler=A}get hasXLabels(){return!!this.axisXLabels.length}get hasYLabels(){return!!this.axisYLabels.length&&!this.axisYInset||!!this.axisYName}get hasYSecondaryLabels(){return!!this.axisYSecondaryLabels.length&&!this.axisYSecondaryInset||!!this.axisYSecondaryName}fallback(t){return t||r.CHAR_NO_BREAK_SPACE}get centeredXLabels(){return"none"===this.axisY}}return(t=e).ɵfac=function(e){return new(e||t)},t.ɵcmp=n.Xpm({type:t,selectors:[["tui-axes"]],hostVars:2,hostBindings:function(t,e){2&t&&n.ekj("_centered",e.centeredXLabels)},inputs:{axisX:"axisX",axisXLabels:"axisXLabels",axisY:"axisY",axisYInset:"axisYInset",axisYLabels:"axisYLabels",axisYName:"axisYName",axisYSecondaryInset:"axisYSecondaryInset",axisYSecondaryLabels:"axisYSecondaryLabels",axisYSecondaryName:"axisYSecondaryName",horizontalLines:"horizontalLines",horizontalLinesHandler:"horizontalLinesHandler",verticalLines:"verticalLines",verticalLinesHandler:"verticalLinesHandler"},standalone:!0,features:[n.jDz],ngContentSelectors:$,decls:13,vars:11,consts:[["class","t-side",3,"t-side_padding",4,"ngIf"],[1,"t-wrapper"],[1,"t-grid"],[1,"t-vertical"],["automation-id","tui-axex__vertical-line","class","t-line t-line_vertical",3,"borderRightStyle",4,"tuiRepeatTimes","tuiRepeatTimesOf"],[1,"t-horizontal"],["automation-id","tui-axex__horizontal-line","class","t-line",3,"borderTopStyle",4,"tuiRepeatTimes","tuiRepeatTimesOf"],["class","t-labels-y t-labels-y_inset",4,"ngIf"],["class","t-labels-y t-labels-y_inset t-labels-y_inset_secondary",4,"ngIf"],[1,"t-content"],["class","t-labels-x",4,"ngIf"],[1,"t-side"],["automation-id","tui-axex__axis-y-name","class","t-name t-name_primary",4,"ngIf"],["class","t-labels-y t-labels-y_primary",4,"ngIf"],["automation-id","tui-axex__axis-y-name",1,"t-name","t-name_primary"],[1,"t-labels-y","t-labels-y_primary"],["automation-id","tui-axex__axis-y-label","class","t-label-y",4,"ngFor","ngForOf"],["automation-id","tui-axex__axis-y-label",1,"t-label-y"],["automation-id","tui-axex__vertical-line",1,"t-line","t-line_vertical"],["automation-id","tui-axex__horizontal-line",1,"t-line"],[1,"t-labels-y","t-labels-y_inset"],[1,"t-labels-y","t-labels-y_inset","t-labels-y_inset_secondary"],["automation-id","tui-axex__axis-y-secondary-label","class","t-label-y",4,"ngFor","ngForOf"],["automation-id","tui-axex__axis-y-secondary-label",1,"t-label-y"],[1,"t-labels-x"],["automation-id","tui-axex__axis-x-label","class","t-label-x",3,"t-label-x_transparent",4,"ngFor","ngForOf"],["automation-id","tui-axex__axis-x-label",1,"t-label-x"],["class","t-labels-y t-labels-y_secondary",4,"ngIf"],["automation-id","tui-axex__axis-y-secondary-name","class","t-name",4,"ngIf"],[1,"t-labels-y","t-labels-y_secondary"],["automation-id","tui-axex__axis-y-secondary-name",1,"t-name"]],template:function(t,e){1&t&&(n.F$t(),n.YNc(0,w,3,4,"div",0),n.TgZ(1,"div",1)(2,"div",2)(3,"div",3),n.YNc(4,I,1,2,"div",4),n.qZA(),n.TgZ(5,"div",5),n.YNc(6,P,1,2,"div",6),n.qZA(),n.YNc(7,H,2,1,"div",7),n.YNc(8,S,2,1,"div",8),n.TgZ(9,"div",9),n.Hsn(10),n.qZA()(),n.YNc(11,k,2,1,"div",10),n.qZA(),n.YNc(12,D,3,4,"div",0)),2&t&&(n.Q6J("ngIf",e.hasYLabels),n.xp6(2),n.Udp("border-bottom-style",e.axisX)("border-left-style",e.axisY),n.xp6(2),n.Q6J("tuiRepeatTimesOf",e.verticalLines),n.xp6(2),n.Q6J("tuiRepeatTimesOf",e.horizontalLines),n.xp6(1),n.Q6J("ngIf",e.axisYInset),n.xp6(1),n.Q6J("ngIf",e.axisYSecondaryInset),n.xp6(3),n.Q6J("ngIf",e.hasXLabels),n.xp6(1),n.Q6J("ngIf",e.hasYSecondaryLabels))},dependencies:[b.O5,b.sg,r.TuiRepeatTimesDirective],styles:['[_nghost-%COMP%]{display:flex}.t-wrapper[_ngcontent-%COMP%]{display:flex;flex:1;height:100%;flex-direction:column}.t-grid[_ngcontent-%COMP%]{position:relative;display:flex;flex:1;justify-content:space-around;align-items:flex-end;border-width:1px;border-color:var(--tui-base-03);isolation:isolate}.t-horizontal[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:100%;height:100%;display:flex;flex-direction:column}.t-vertical[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:100%;height:100%;display:flex}._centered[_nghost-%COMP%]   .t-vertical[_ngcontent-%COMP%]:after{content:"";display:block;flex:1 0 1px}.t-line[_ngcontent-%COMP%]{flex:2 0 1px;box-sizing:border-box;border-width:1px;border-color:var(--tui-base-03)}._centered[_nghost-%COMP%]   .t-line_vertical[_ngcontent-%COMP%]:first-child{flex:1 0 1px;pointer-events:none}.t-side[_ngcontent-%COMP%]{display:flex;align-items:stretch}.t-side_padding[_ngcontent-%COMP%]{padding-bottom:2rem}.t-name[_ngcontent-%COMP%]{font:var(--tui-font-text-xs);writing-mode:tb;text-align:center;padding-left:.75rem;color:var(--tui-text-02)}.t-name_primary[_ngcontent-%COMP%]{transform:rotate(180deg)}.t-labels-y[_ngcontent-%COMP%]{display:flex;font:var(--tui-font-text-xs);flex-direction:column-reverse;justify-content:space-between;color:var(--tui-text-02)}.t-labels-y_primary[_ngcontent-%COMP%]{text-align:right;padding-right:.75rem}.t-labels-y_secondary[_ngcontent-%COMP%]{padding-left:.75rem}.t-labels-y_transparent[_ngcontent-%COMP%]{border-color:transparent}.t-labels-y_inset[_ngcontent-%COMP%]{position:absolute;top:.5625rem;left:.25rem;bottom:-.75rem;pointer-events:none}.t-labels-y_inset_secondary[_ngcontent-%COMP%]{left:auto;right:.25rem;text-align:right}.t-labels-x[_ngcontent-%COMP%]{display:flex;font:var(--tui-font-text-xs);border-right:1px solid transparent;color:var(--tui-text-02)}.t-label-x[_ngcontent-%COMP%]{height:.4375rem;border-left:1px solid var(--tui-base-03);flex:1;margin-bottom:1.5625rem}.t-label-x[_ngcontent-%COMP%]:before{content:"";display:block;height:.5625rem}.t-label-x_transparent[_ngcontent-%COMP%]{border-color:transparent}._centered[_nghost-%COMP%]   .t-label-x[_ngcontent-%COMP%]{height:2rem;text-align:center;border:none;margin:0}[new][_nghost-%COMP%]:not(._centered)   .t-label-x[_ngcontent-%COMP%]:last-child:not(:first-child){flex:.5;text-align:right;border-left:none}[new][_nghost-%COMP%]:not(._centered)   .t-label-x[_ngcontent-%COMP%]:nth-last-child(2){flex:.5}.t-label-y[_ngcontent-%COMP%]:first-child{margin-bottom:-.375rem}.t-label-y[_ngcontent-%COMP%]:last-child{margin-top:-.375rem}.t-content[_ngcontent-%COMP%]{position:absolute;top:0;left:-1px;right:0;bottom:-1px;display:flex;align-items:flex-end}'],changeDetection:0}),e})();var B,J,q=i(84911);function E(t,e){if(1&t&&n._UZ(0,"div",1),2&t){const t=e.$implicit,i=e.index,o=n.oxw();n.Udp("background",o.getColor(i))("height",o.getHeight(t),"%")}}class j{constructor(){this.value=[],this.size="m"}getHeight(t){return 100*t/this.getSum(this.value)}getColor(t){return`var(--tui-chart-${t})`}getSum(t){return(0,r.tuiSum)(...t)}}(B=j).ɵfac=function(t){return new(t||B)},B.ɵcmp=n.Xpm({type:B,selectors:[["tui-bar"]],hostVars:1,hostBindings:function(t,e){2&t&&n.uIk("data-size",e.size)},inputs:{value:"value",size:"size"},standalone:!0,features:[n.jDz],decls:1,vars:1,consts:[["automation-id","tui-bar__bar",3,"background","height",4,"ngFor","ngForOf"],["automation-id","tui-bar__bar"]],template:function(t,e){1&t&&n.YNc(0,E,1,4,"div",0),2&t&&n.Q6J("ngForOf",e.value)},dependencies:[b.sg],styles:["[_nghost-%COMP%]{display:flex;min-width:.125rem;flex-direction:column-reverse;border-top-left-radius:var(--tui-radius-l);border-top-right-radius:var(--tui-radius-l);overflow:hidden}[data-size=l][_nghost-%COMP%]{width:1rem;max-width:1rem;margin:0 .1875rem}[data-size=m][_nghost-%COMP%]{width:.5rem;max-width:.5rem;margin:0 .1875rem}[data-size=s][_nghost-%COMP%]{width:.25rem;max-width:.5rem;margin:0 .125rem}"],changeDetection:0}),(0,q.gn)([r.tuiPure],j.prototype,"getSum",null);const X=function(t,e){return{$implicit:t,index:e,flexible:!1}};function W(t,e){if(1&t&&n.GkF(0,5),2&t){const t=e.$implicit,i=e.index;n.oxw(2);const o=n.MAs(4);n.Q6J("ngTemplateOutlet",o)("ngTemplateOutletContext",n.WLB(2,X,t,i))}}function G(t,e){if(1&t&&(n.ynx(0),n.YNc(1,W,1,5,"ng-container",4),n.BQk()),2&t){const t=n.oxw();n.xp6(1),n.Q6J("ngForOf",t.computedValue)}}const V=function(t,e){return{$implicit:t,index:e,flexible:!0}};function K(t,e){if(1&t&&(n.TgZ(0,"div",7),n.GkF(1,5),n.qZA()),2&t){const t=e.$implicit,i=e.index;n.oxw(2);const o=n.MAs(4);n.xp6(1),n.Q6J("ngTemplateOutlet",o)("ngTemplateOutletContext",n.WLB(2,V,t,i))}}function tt(t,e){if(1&t&&n.YNc(0,K,2,5,"div",6),2&t){const t=n.oxw();n.Q6J("ngForOf",t.computedValue)}}function et(t,e){if(1&t&&n._UZ(0,"tui-bar",8),2&t){const t=e.flexible,i=e.index,o=e.$implicit,s=n.oxw();n.Udp("background",s.getColor(i))("height",s.getHeight(o),"%"),n.ekj("t-bar_flexible",t)("t-bar_negative",o<0),n.Q6J("size",s.computedSize)("value",s.computedSegments)}}const it=[],nt=[1];class ot{constructor(){this.value=[],this.size="m",this.collapsed=!1}get computedValue(){return this.collapsed?nt:this.value}get computedSegments(){return this.collapsed?this.value:it}get computedSize(){return this.size||"m"}getHeight(t){return Math.abs(100*t/this.getLargest(this.computedValue))}getColor(t){return`var(--tui-chart-${t})`}getLargest(t){return t.some((t=>t>0))?t.reduce(((t,e)=>t>e?t:e),0):Math.abs(t.reduce(((t,e)=>t<e?t:e),0))}}(J=ot).ɵfac=function(t){return new(t||J)},J.ɵcmp=n.Xpm({type:J,selectors:[["tui-bar-set"]],inputs:{value:"value",size:"size",collapsed:"collapsed"},standalone:!0,features:[n.jDz],ngContentSelectors:["*"],decls:7,vars:2,consts:[[4,"ngIf","ngIfElse"],["flexible",""],["bar",""],[1,"t-label"],[3,"ngTemplateOutlet","ngTemplateOutletContext",4,"ngFor","ngForOf"],[3,"ngTemplateOutlet","ngTemplateOutletContext"],["class","t-wrapper",4,"ngFor","ngForOf"],[1,"t-wrapper"],["automation-id","tui-bar-set__bar",1,"t-bar",3,"size","value"]],template:function(t,e){if(1&t&&(n.F$t(),n.YNc(0,G,2,1,"ng-container",0),n.YNc(1,tt,1,1,"ng-template",null,1,n.W1O),n.YNc(3,et,1,10,"ng-template",null,2,n.W1O),n.TgZ(5,"span",3),n.Hsn(6),n.qZA()),2&t){const t=n.MAs(2);n.Q6J("ngIf",e.size)("ngIfElse",t)}},dependencies:[b.O5,b.sg,b.tP,j],styles:["[_nghost-%COMP%]{position:relative;display:flex;height:100%;align-items:flex-end;justify-content:center}.t-wrapper[_ngcontent-%COMP%]{display:flex;flex:1;height:100%;align-items:flex-end}.t-wrapper[_ngcontent-%COMP%]:first-of-type{margin-left:25%}.t-wrapper[_ngcontent-%COMP%]:last-of-type{margin-right:25%}.t-bar[_ngcontent-%COMP%]{transform-origin:bottom center}.t-bar_negative[_ngcontent-%COMP%]{transform:rotate(180deg);opacity:var(--tui-disabled-opacity)}.t-bar.t-bar_flexible[_ngcontent-%COMP%]{max-width:none;width:75%;margin:0 auto}.t-label[_ngcontent-%COMP%]{position:absolute;top:-1.5rem;font:var(--tui-font-text-xs);color:var(--tui-text-02)}"],changeDetection:0}),(0,q.gn)([r.tuiPure],ot.prototype,"getLargest",null);var st,rt=i(69104),at=i(78347),lt=i(20486),ct=i(89061);const ut=function(t){return{$implicit:t}};function ht(t,e){if(1&t&&(n.TgZ(0,"div",1),n.NdJ("mouseenter.once",(function(){return 0})),n.ALo(1,"async"),n.TgZ(2,"div",2),n.ALo(3,"tuiMapper"),n._UZ(4,"div",3,4)(6,"tui-bar-set",5),n.qZA()()),2&t){const t=e.$implicit,i=e.index,o=n.MAs(5),s=n.oxw();n.ekj("t-wrapper_hoverable",!!s.hintContent)("t-wrapper_hovered",n.lcZ(1,15,s.drivers.get(i))),n.Q6J("tuiHint",s.hintContent)("tuiHintContext",n.VKq(22,ut,i))("tuiHintDescribe",s.getHintId(i))("tuiHintHost",o),n.xp6(2),n.Udp("height",n.gM2(3,17,t,s.percentMapper,s.collapsed,s.computedMax),"%"),n.xp6(4),n.Q6J("collapsed",s.collapsed)("id",s.getHintId(i))("size",s.size)("tabIndex",s.hintContent?0:-1)("value",t)}}class dt{constructor(){this.hintOptions=(0,n.f3M)(rt.TuiHintOptionsDirective,{optional:!0}),this.autoIdString=(0,n.f3M)(r.TuiIdService).generate(),this.drivers=r.EMPTY_QUERY,this.value=[],this.max=NaN,this.size="m",this.collapsed=!1,this.percentMapper=(t,e,i)=>100*(e?(0,r.tuiSum)(...t):Math.max(...t))/i}get transposed(){return this.transpose(this.value)}get computedMax(){return this.max||this.getMax(this.value,this.collapsed)}get hintContent(){return this.hintOptions?.content||""}getHintId(t){return`${this.autoIdString}_${t}`}transpose(t){return t.reduce(((t,e)=>e.map(((i,n)=>[...t[n]||[],e[n]]))),[])}getMax(t,e){return e?Math.max(...t.reduce(((t,e)=>t.map(((t,i)=>t+e[i]))))):t.reduce(((t,e)=>Math.max(...e,t)),0)}}(st=dt).ɵfac=function(t){return new(t||st)},st.ɵcmp=n.Xpm({type:st,selectors:[["tui-bar-chart"]],viewQuery:function(t,e){if(1&t&&n.Gf(rt.TuiHintHoverDirective,5),2&t){let t;n.iGM(t=n.CRH())&&(e.drivers=t)}},inputs:{value:"value",max:"max",size:"size",collapsed:"collapsed"},standalone:!0,features:[n._Bn([],[(0,rt.tuiHintOptionsProvider)({direction:"top"})]),n.jDz],decls:1,vars:1,consts:[["class","t-wrapper",3,"t-wrapper_hoverable","t-wrapper_hovered","tuiHint","tuiHintContext","tuiHintDescribe","tuiHintHost","mouseenter.once",4,"ngFor","ngForOf"],[1,"t-wrapper",3,"tuiHint","tuiHintContext","tuiHintDescribe","tuiHintHost","mouseenter.once"],[1,"t-container"],[1,"t-host"],["hintHost",""],[1,"t-set",3,"collapsed","id","size","tabIndex","value"]],template:function(t,e){1&t&&n.YNc(0,ht,7,24,"div",0),2&t&&n.Q6J("ngForOf",e.transposed)},dependencies:[b.sg,rt.TuiHint,at.D,lt.$,ct.X,r.TuiMapperPipe,b.Ov,ot],styles:["[_nghost-%COMP%]{display:flex;flex:1;height:100%}.t-wrapper[_ngcontent-%COMP%]{transition-property:background-color;transition-duration:var(--tui-duration, .3s);transition-timing-function:ease-in-out;position:relative;display:flex;flex:1;align-items:flex-end;justify-content:center;height:100%}.t-wrapper_hoverable[_ngcontent-%COMP%]{cursor:pointer}.t-wrapper_hoverable[_ngcontent-%COMP%]:hover, .t-wrapper_hoverable.t-wrapper_hovered[_ngcontent-%COMP%]{background-color:#0000000d}.t-container[_ngcontent-%COMP%]{flex:1}.t-host[_ngcontent-%COMP%]{position:absolute;left:50%;right:50%}.t-set[_ngcontent-%COMP%]{border-radius:var(--tui-radius-m);pointer-events:none;outline:none}.t-set[_ngcontent-%COMP%]:focus{box-shadow:0 0 0 2px var(--tui-focus)}"],changeDetection:0}),(0,q.gn)([r.tuiPure],dt.prototype,"transpose",null),(0,q.gn)([r.tuiPure],dt.prototype,"getMax",null);const gt=[[["","tuiCheckbox",""]],"*"],pt=["[tuiCheckbox]","*"];let ft=(()=>{var t;class e{constructor(){this.active=!1,this.color="",this.text="",this.size="m",this.disabled=!1}get computedColor(){return"var(--tui-primary)"===this.color?null:this.color}}return(t=e).ɵfac=function(e){return new(e||t)},t.ɵcmp=n.Xpm({type:t,selectors:[["tui-legend-item"]],hostVars:5,hostBindings:function(t,e){2&t&&(n.uIk("data-size",e.size),n.Udp("--tui-primary",e.computedColor),n.ekj("_disabled",e.disabled))},inputs:{active:"active",color:"color",text:"text",size:"size",disabled:"disabled"},standalone:!0,features:[n.jDz],ngContentSelectors:pt,decls:7,vars:4,consts:[["appearance","whiteblock","size","s","tuiButton","","type","button",1,"t-button",3,"tuiAppearanceState"],[1,"t-wrapper"],[1,"t-dot"],[1,"t-text"]],template:function(t,e){1&t&&(n.F$t(gt),n.TgZ(0,"button",0)(1,"div",1),n.Hsn(2),n._UZ(3,"span",2),n.TgZ(4,"span",3),n._uU(5),n.qZA(),n.Hsn(6,1),n.qZA()()),2&t&&(n.Q6J("tuiAppearanceState",e.active?"hover":null),n.xp6(3),n.Udp("background-color",e.color||"var(--tui-primary)"),n.xp6(2),n.Oqu(e.text))},dependencies:[rt.TuiButtonDirective],styles:["[_nghost-%COMP%]{display:inline-block}.t-button[_ngcontent-%COMP%]{height:2rem;font-weight:700}[data-size=m][_nghost-%COMP%]   .t-button[_ngcontent-%COMP%]{height:2.25rem;font:var(--tui-font-text-m);font-weight:700}.t-wrapper[_ngcontent-%COMP%]{display:flex;align-items:center;pointer-events:none}._disabled[_nghost-%COMP%]   .t-wrapper[_ngcontent-%COMP%]{color:var(--tui-text-03)}.t-dot[_ngcontent-%COMP%]{width:.5rem;height:.5rem;border-radius:100%;flex-shrink:0}._disabled[_nghost-%COMP%]   .t-dot[_ngcontent-%COMP%]{background:var(--tui-base-04)}.t-dot[_ngcontent-%COMP%]:not(:first-child){display:none}.t-text[_ngcontent-%COMP%]{margin:0 .5rem;font-weight:400}"],changeDetection:0}),e})();function mt(t,e,i,n=!1,o=.2){const s=e||t,r=i||t,a=function(t,e){const i=e[0]-t[0],n=e[1]-t[1];return Math.atan2(n,i)}(s,r)+(n?Math.PI:0),l=function(t,e){const i=e[0]-t[0],n=e[1]-t[1];return Math.sqrt(i**2+n**2)}(s,r)*o;return[t[0]+Math.cos(a)*l,t[1]+Math.sin(a)*l]}var xt=i(13448),vt=i(24815);const _t={dots:!1,filled:!1,smoothingFactor:0},yt=(0,r.tuiCreateToken)(_t);function bt(t){return(0,r.tuiProvideOptions)(yt,t,_t)}var Ct,Ot,Mt=i(29963),wt=i(13591);class It{constructor(){this.charts=r.EMPTY_QUERY,this.chartsRef=r.EMPTY_QUERY,this.renderer=(0,n.f3M)(n.Qsj),this.destroyRef=(0,n.f3M)(n.ktI),this.zone=(0,n.f3M)(n.R0b),this.hovered$=(0,n.f3M)(r.TuiHoveredService)}ngAfterViewInit(){(0,Mt.a)([Pt(this.charts),this.hovered$]).pipe((0,wt.h)((t=>!t.some(Boolean))),(0,r.tuiZonefree)(this.zone),(0,o.sL)(this.destroyRef)).subscribe((()=>{this.charts.forEach((t=>t.onHovered(NaN)))}))}getContext(t,e){return this.computeContext(...this.charts.map((({value:t})=>t)))[t]}raise(t,e){const i=this.charts.map((e=>e.value[t])),n=[...i].sort(((t,e)=>t[1]-e[1]));this.charts.forEach((e=>e.onHovered(t))),this.chartsRef.forEach((({nativeElement:t},e)=>this.renderer.setStyle(t,"z-index",n.indexOf(i[e]))))}computeContext(...t){return(t[0]||[]).map(((e,i)=>t.map((t=>t[i]))))}}function Pt(t){return(0,Mt.a)(t.map((({drivers:t})=>(0,r.tuiQueryListChanges)(t).pipe((0,l.U)((t=>t.map((t=>t.pipe((0,h.O)(!1)))))))))).pipe((0,l.U)((t=>t.reduce(((t,e)=>t.concat(e)),[]))),(0,u.w)((t=>(0,Mt.a)(t))),(0,l.U)((t=>t.some(Boolean))),(0,vt.x)())}function zt(t,e){if(1&t&&n._UZ(0,"div",9),2&t){const t=e.$implicit,i=n.oxw(3);n.Udp("bottom",i.getBottom(t[1]),"%")("left",i.getLeft(t[0]),"%")}}function Ht(t,e){if(1&t&&(n.O4$(),n.kcU(),n.ynx(0),n.YNc(1,zt,1,4,"div",8),n.BQk()),2&t){const t=n.oxw(2);n.xp6(1),n.Q6J("ngForOf",t.value)}}(Ct=It).ɵfac=function(t){return new(t||Ct)},Ct.ɵdir=n.lG2({type:Ct,selectors:[["","tuiLineChartHint",""]],contentQueries:function(t,e,i){if(1&t&&(n.Suo(i,At,4),n.Suo(i,At,4,n.SBq)),2&t){let t;n.iGM(t=n.CRH())&&(e.charts=t),n.iGM(t=n.CRH())&&(e.chartsRef=t)}},inputs:{hint:["tuiLineChartHint","hint"]},standalone:!0,features:[n._Bn([r.TuiHoveredService])]}),(0,q.gn)([r.tuiPure],It.prototype,"computeContext",null);const Tt=function(t,e){return{$implicit:t,index:e}};function St(t,e){if(1&t){const t=n.EpF();n.TgZ(0,"div",13),n.NdJ("mouseenter",(function(){n.CHM(t);const e=n.oxw().index,i=n.oxw(3);return n.KtG(i.onMouseEnter(e))})),n.ALo(1,"async"),n._UZ(2,"div",14)(3,"div",15,16),n.qZA()}if(2&t){const t=n.MAs(4),e=n.oxw(),i=e.index,o=e.$implicit,s=n.oxw(2).tuiLet,r=n.oxw();n.Udp("left",r.getLeft(r.getX(i)),"%")("width",r.getWidth(i),"%"),n.ekj("t-column_hint_hovered",n.lcZ(1,20,r.drivers.get(i)))("t-column_hovered",s===i),n.Q6J("tuiHint",(null==r.hintDirective?null:r.hintDirective.hint)||r.hintContent)("tuiHintContext",n.WLB(22,Tt,r.getImplicit(o),i))("tuiHintDescribe",r.isFocusable?r.getHintId(i):null)("tuiHintHost",t),n.xp6(2),n.Udp("left",r.getOffset(i),"%"),n.xp6(1),n.Udp("bottom",r.getBottom(o[1]),"%")("left",r.getOffset(i),"%"),n.Q6J("id",r.getHintId(i))("tabIndex",r.isFocusable?0:-1)}}function Nt(t,e){if(1&t&&n._UZ(0,"div",17),2&t){const t=n.oxw().$implicit,e=n.oxw(3);n.Udp("bottom",e.getBottom(t[1]),"%")}}function kt(t,e){if(1&t&&(n.ynx(0),n.YNc(1,St,5,25,"div",11),n.YNc(2,Nt,1,2,"div",12),n.BQk()),2&t){const t=n.oxw(3);n.xp6(1),n.Q6J("ngIf",t.value.length>1||t.dots),n.xp6(1),n.Q6J("ngIf",t.isFocusable)}}function Lt(t,e){if(1&t&&(n.O4$(),n.kcU(),n.ynx(0),n.YNc(1,kt,3,2,"ng-container",10),n.BQk()),2&t){const t=n.oxw(2);n.xp6(1),n.Q6J("ngForOf",t.value)}}function Yt(t,e){if(1&t&&(n.TgZ(0,"div",20),n._uU(1),n.qZA()),2&t){const t=n.oxw().ngIf,e=n.oxw(2);n.Udp("left",e.getLeft(t[0]),"%"),n.xp6(1),n.hij(" ",e.xStringify(t[0])," ")}}function Zt(t,e){if(1&t&&(n.TgZ(0,"div",21),n._uU(1),n.qZA()),2&t){const t=n.oxw().ngIf,e=n.oxw(2);n.Udp("bottom",e.getBottom(t[1]),"%"),n.xp6(1),n.hij(" ",e.yStringify(t[1])," ")}}function Dt(t,e){if(1&t&&(n.O4$(),n.kcU(),n.ynx(0),n.YNc(1,Yt,2,3,"div",18),n.YNc(2,Zt,2,3,"div",19),n.BQk()),2&t){const t=n.oxw(2);n.xp6(1),n.Q6J("ngIf",t.xStringify),n.xp6(1),n.Q6J("ngIf",t.yStringify)}}function $t(t,e){if(1&t&&(n.ynx(0),n.O4$(),n.TgZ(1,"svg",1)(2,"defs")(3,"linearGradient",2),n._UZ(4,"stop",3)(5,"stop",4),n.qZA()(),n._UZ(6,"path",5)(7,"path",6),n.qZA(),n.YNc(8,Ht,2,1,"ng-container",7),n.YNc(9,Lt,2,1,"ng-container",7),n.YNc(10,Dt,3,2,"ng-container",7),n.BQk()),2&t){const t=e.tuiLet,i=n.oxw();n.xp6(1),n.uIk("viewBox",i.viewBox),n.xp6(2),n.uIk("id",i.fillId),n.xp6(3),n.uIk("d",i.fillD)("fill",i.fill),n.xp6(1),n.uIk("d",i.d),n.xp6(1),n.Q6J("ngIf",i.dots),n.xp6(1),n.Q6J("ngIf",i.hasHints),n.xp6(1),n.Q6J("ngIf",i.getHovered(t))}}class At{constructor(){this.zone=(0,n.f3M)(n.R0b),this.options=(0,n.f3M)(yt),this.hover$=new xt.x,this.autoIdString=(0,n.f3M)(r.TuiIdService).generate(),this.hintDirective=(0,n.f3M)(It,{optional:!0}),this.hintOptions=(0,n.f3M)(rt.TuiHintOptionsDirective,{optional:!0}),this.drivers=r.EMPTY_QUERY,this.x=0,this.y=0,this.width=0,this.height=0,this.smoothingFactor=this.options.smoothingFactor,this.xStringify=null,this.yStringify=null,this.filled=this.options.filled,this.dots=this.options.dots,this.value=[]}set valueSetter(t){this.value=t.filter((t=>!t.some(Number.isNaN)))}onHovered(t){this.hover$.next(t)}get hovered$(){return this.hover$.pipe((0,vt.x)(),(0,r.tuiZoneOptimized)(this.zone))}get hintContent(){return this.hintOptions?.content||""}get fillId(){return`tui-line-chart-${this.autoIdString}`}get fill(){return this.filled?`url(#${this.fillId})`:"none"}get viewBox(){return`${this.x} ${this.y} ${this.width} ${this.height}`}get d(){return this.getD(this.value,this.smoothingFactor)}get fillD(){return this.value.length?`${this.d}V ${this.y} H ${this.value[0][0]} V ${this.value[0][1]}`:this.d}get isFocusable(){return!this.hintDirective&&this.hasHints}get hasHints(){return!!(this.xStringify||this.yStringify||this.hintDirective?.hint||this.hintContent)}onMouseLeave(){this.hintDirective||this.onHovered(NaN)}getX(t){return this.isSinglePoint?this.value[0][0]/2:t?(this.value[t-1][0]+this.value[t][0])/2:2*this.value[0][0]-this.getX(1)}getWidth(t){return 100*this.computeWidth(t)/this.width}getHintId(t){return`${this.autoIdString}_${t}`}getImplicit(t){return this.hintDirective?.getContext(this.value.indexOf(t),this)||t}getHovered(t){return(0,r.tuiIsPresent)(t)&&Number.isInteger(t)?this.value[t]:null}getBottom(t){return 100*(t-this.y)/this.height}getLeft(t){return 100*(t-this.x)/this.width}getOffset(t){return 100*(this.value[t][0]-this.getX(t))/this.computeWidth(t)}onMouseEnter(t){this.hintDirective?this.hintDirective.raise(t,this):this.onHovered(t)}get isSinglePoint(){return 1===this.value.length}getD(t,e){return t.reduce(((i,n,o)=>o?`${i} ${function(t,e,i){return i?function(t,e,i){const[n,o]=mt(t[e-1],t[e-2],t[e],!1,i),[s,r]=mt(t[e],t[e-1],t[e+1],!0,i);return`C ${n},${o} ${s},${r} ${t[e][0]},${t[e][1]}`}(t,e,i/500):`L ${[t[e][0],t[e][1]]}`}(t,o,e)}`:`M ${n}`),"")}computeWidth(t){return t===this.value.length-1?2*(this.value[t][0]-this.getX(t)):this.getX(t+1)-this.getX(t)}}(Ot=At).ɵfac=function(t){return new(t||Ot)},Ot.ɵcmp=n.Xpm({type:Ot,selectors:[["tui-line-chart"]],viewQuery:function(t,e){if(1&t&&n.Gf(rt.TuiHintHoverDirective,5),2&t){let t;n.iGM(t=n.CRH())&&(e.drivers=t)}},hostBindings:function(t,e){1&t&&n.NdJ("mouseleave",(function(){return e.onMouseLeave()}))},inputs:{x:"x",y:"y",width:"width",height:"height",smoothingFactor:"smoothingFactor",xStringify:"xStringify",yStringify:"yStringify",filled:"filled",dots:"dots",valueSetter:["value","valueSetter"]},standalone:!0,features:[n._Bn([],[(0,rt.tuiHintOptionsProvider)({direction:"top",hideDelay:0})]),n.jDz],decls:2,vars:3,consts:[[4,"tuiLet"],["focusable","false","height","100%","preserveAspectRatio","none","width","100%","xmlns","http://www.w3.org/2000/svg",1,"t-svg"],["x1","0","x2","0","y1","1","y2","0"],["offset","0%","stop-color","currentColor","stop-opacity","0.5"],["offset","100%","stop-color","currentColor","stop-opacity","0"],["stroke","none"],["fill","none","stroke","currentColor","stroke-width","2","vector-effect","non-scaling-stroke"],[4,"ngIf"],["class","t-dot",3,"bottom","left",4,"ngFor","ngForOf"],[1,"t-dot"],[4,"ngFor","ngForOf"],["class","t-column",3,"t-column_hint_hovered","t-column_hovered","left","width","tuiHint","tuiHintContext","tuiHintDescribe","tuiHintHost","mouseenter",4,"ngIf"],["class","t-line t-line_horizontal",3,"bottom",4,"ngIf"],[1,"t-column",3,"tuiHint","tuiHintContext","tuiHintDescribe","tuiHintHost","mouseenter"],[1,"t-line","t-line_vertical"],[1,"t-host",3,"id","tabIndex"],["hintHost",""],[1,"t-line","t-line_horizontal"],["class","t-hint t-hint_x",3,"left",4,"ngIf"],["class","t-hint t-hint_y",3,"bottom",4,"ngIf"],[1,"t-hint","t-hint_x"],[1,"t-hint","t-hint_y"]],template:function(t,e){1&t&&(n.YNc(0,$t,11,8,"ng-container",0),n.ALo(1,"async")),2&t&&n.Q6J("tuiLet",n.lcZ(1,1,e.hovered$))},dependencies:[r.TuiLetDirective,b.Ov,b.O5,rt.TuiHint,at.D,lt.$,ct.X,b.sg],styles:['[_nghost-%COMP%]{display:flex;width:100%;height:100%;pointer-events:none}.t-svg[_ngcontent-%COMP%]{transform:scaleY(-1)}.t-column[_ngcontent-%COMP%]{position:absolute;top:0;height:100%;pointer-events:auto}.t-dot[_ngcontent-%COMP%]{position:absolute;width:.375rem;height:.375rem;border-radius:100%;background:currentColor;margin:-.1875rem;box-shadow:0 0 0 2px #fff}.t-host[_ngcontent-%COMP%]{position:absolute;left:50%;width:.5rem;height:.5rem;border-radius:100%;opacity:0;background:#fff;margin:-.25rem;box-shadow:0 0 0 2px currentColor,0 .0625rem .1875rem .125rem #0000001a;outline:none;pointer-events:none}.t-host[_ngcontent-%COMP%]:focus, .t-column_hovered[_ngcontent-%COMP%]   .t-host[_ngcontent-%COMP%], .t-column[_ngcontent-%COMP%]:hover   .t-host[_ngcontent-%COMP%], .t-column_hint_hovered[_ngcontent-%COMP%]   .t-host[_ngcontent-%COMP%]{opacity:1}.t-line[_ngcontent-%COMP%]{position:absolute;opacity:0;background:var(--tui-base-03)}.t-line_vertical[_ngcontent-%COMP%]{top:0;bottom:0;left:50%;width:1px}.t-line_horizontal[_ngcontent-%COMP%]{z-index:-1;width:100%;height:1px}[style^="z-index: 0"][_nghost-%COMP%]   .t-column_hovered[_ngcontent-%COMP%]   .t-line[_ngcontent-%COMP%], [_nghost-%COMP%]:not([style])   .t-column[_ngcontent-%COMP%]:hover   .t-line[_ngcontent-%COMP%], [_nghost-%COMP%]:not([style])   .t-column_hint_hovered[_ngcontent-%COMP%]   .t-line[_ngcontent-%COMP%], [style^="z-index: 0"][_nghost-%COMP%]   .t-column_hovered[_ngcontent-%COMP%] + .t-line[_ngcontent-%COMP%], [_nghost-%COMP%]:not([style])   .t-column[_ngcontent-%COMP%]:hover + .t-line[_ngcontent-%COMP%], [_nghost-%COMP%]:not([style])   .t-column_hint_hovered[_ngcontent-%COMP%] + .t-line[_ngcontent-%COMP%]{opacity:1}.t-hint[_ngcontent-%COMP%]{position:absolute;box-shadow:var(--tui-shadow);font:var(--tui-font-text-xs);height:1.25rem;line-height:1.25rem;margin-bottom:-.625rem;padding:0 .375rem;white-space:nowrap;color:var(--tui-base-09);background:var(--tui-base-01);transform:translate3d(-50%,0,0)}.t-hint_x[_ngcontent-%COMP%]{bottom:0}.t-hint_y[_ngcontent-%COMP%]{left:0}'],changeDetection:0}),(0,q.gn)([r.tuiPure],At.prototype,"hovered$",null),(0,q.gn)([r.tuiPure],At.prototype,"getD",null);var Ut,Qt=i(40970);function Ft(t,e){return t.find((([t])=>t.daySame(e)))||[e,NaN]}class Rt{constructor(){this.charts=r.EMPTY_QUERY,this.destroyRef=(0,n.f3M)(n.ktI),this.zone=(0,n.f3M)(n.R0b),this.hovered$=(0,n.f3M)(r.TuiHoveredService)}ngAfterContentInit(){(0,Mt.a)([...this.charts.map((({charts:t})=>Pt(t))),this.hovered$]).pipe((0,wt.h)((t=>!t.some(Boolean))),(0,r.tuiZonefree)(this.zone),(0,o.sL)(this.destroyRef)).subscribe((()=>{this.charts.forEach((t=>t.onHovered(NaN)))}))}getContext(t){return this.getMap(...this.charts.map((({value:t})=>t))).get(String(t))||[]}raise(t){const e=this.charts.map((({value:e})=>Ft(e,t))).filter((([t,e])=>!Number.isNaN(e))),i=[...e].sort(((t,e)=>t[1]-e[1]));this.charts.forEach(((n,o)=>{n.onHovered(t),n.zIndex=Math.max(i.indexOf(e[o]),0)}))}getMap(...t){return(t[0]||[]).reduce(((e,[i])=>e.set(String(i),t.map((t=>Ft(t,i))))),new Map)}}(Ut=Rt).ɵfac=function(t){return new(t||Ut)},Ut.ɵdir=n.lG2({type:Ut,selectors:[["","tuiLineChartHint",""]],contentQueries:function(t,e,i){if(1&t&&n.Suo(i,Gt,4),2&t){let t;n.iGM(t=n.CRH())&&(e.charts=t)}},inputs:{hint:["tuiLineChartHint","hint"]},standalone:!0,features:[n._Bn([r.TuiHoveredService])]}),(0,q.gn)([r.tuiPure],Rt.prototype,"getMap",null);var Bt,Jt=i(28402);function qt(t,e){if(1&t&&n._UZ(0,"tui-line-chart",2),2&t){const t=e.$implicit,i=e.first,o=n.oxw(),s=n.MAs(2);n.Udp("z-index",o.zIndex),n.Q6J("dots",o.dots)("height",o.height)("smoothingFactor",o.smoothingFactor)("tuiHintContent",o.hintContent?s:"")("value",t)("width",i?o.firstWidth:o.getWidth(t[0][0]))("x",i?0:o.getX(t[0][0]))("xStringify",o.xStringify?o.daysStringify:null)("y",o.y)("yStringify",o.yStringify)}}function Et(t,e){if(1&t&&(n.ynx(0),n._uU(1),n.BQk()),2&t){const t=e.polymorpheusOutlet;n.xp6(1),n.hij(" ",t," ")}}const jt=function(t){return{$implicit:t}};function Xt(t,e){if(1&t&&n.YNc(0,Et,2,1,"ng-container",3),2&t){const t=e.$implicit,i=n.oxw();n.Q6J("polymorpheusOutlet",i.hintContent)("polymorpheusOutletContext",n.VKq(2,jt,i.getHintContext(t[0],i.value)))}}const Wt=[NaN,NaN];class Gt{constructor(){this.destroyRef=(0,n.f3M)(n.ktI),this.zone=(0,n.f3M)(n.R0b),this.hovered$=(0,n.f3M)(r.TuiHoveredService),this.options=(0,n.f3M)(yt),this.hintDirective=(0,n.f3M)(Rt,{optional:!0}),this.charts=r.EMPTY_QUERY,this.y=0,this.height=0,this.smoothingFactor=this.options.smoothingFactor,this.xStringify=null,this.yStringify=null,this.dots=this.options.dots,this.zIndex=0,this.value=[],this.daysStringify=t=>this.xStringify?this.xStringify(this.getDay(t)):""}set valueSetter(t){if(!t.length)return void(this.value=[]);const e=t[0][0],i=[...t],n=r.TuiDay.lengthBetween(e,t[t.length-1][0])+1;this.value=Array.from({length:n},((t,n)=>{const o=e.append({day:n}),s=o.daySame(i[0][0])?i.shift():null;return[o,s?s[1]:NaN]}))}ngAfterViewInit(){(0,Mt.a)([Pt(this.charts),this.hovered$]).pipe((0,wt.h)((t=>!t.some(Boolean))),(0,r.tuiZonefree)(this.zone),(0,o.sL)(this.destroyRef)).subscribe((()=>{this.onHovered(NaN)}))}onHovered(t){if((0,r.tuiIsNumber)(t))return void this.charts.forEach((t=>t.onHovered(NaN)));const e=r.TuiMonth.lengthBetween(this.value[0][0],t),i=r.TuiDay.lengthBetween(this.value[0][0],t)+this.value[0][0].day-1,n=this.charts.get(e);this.charts.forEach((t=>{t===n?n.onHovered(n.value.findIndex((t=>t[0]===i))):t.onHovered(NaN)}))}get months(){return this.value.length?this.breakMonths(this.value):r.EMPTY_ARRAY}get firstWidth(){return this.months.length*this.value[0][0].daysCount}get hint(){return this.hintDirective?.hint??this.hintContent}getHintContext(t,e){return e[t-e[0][0].day+1]}getX(t){const e=this.getDay(t);return t-r.TuiMonth.lengthBetween(this.value[0][0],e)*e.daysCount}raise(t,{value:e}){const i=e[t][0],n=this.getDay(i);this.hintDirective?this.hintDirective.raise(n):this.onHovered(n)}getWidth(t){return this.getDay(t).daysCount*this.months.length}getContext(t,{value:e}){const i=e[t][0];return this.hintDirective?this.hintDirective.getContext(this.getDay(i)):this.getHintContext(i,this.value)}breakMonths(t){const e=t[0][0].day-1;return Array.from({length:r.TuiMonth.lengthBetween(t[0][0],t[t.length-1][0])+1},((e,i)=>i+t[0][0].month+12*t[0][0].year)).map((i=>t.map((([{month:t,year:n},o],s)=>t+12*n===i?[s+e,o]:null)).filter(r.tuiIsPresent))).map(((t,e,i)=>e===i.length-1?t:[...t,i[e+1].find((t=>!Number.isNaN(t[1])))||Wt]))}getDay(t){return this.value[t-this.value[0][0].day+1][0]}}(Bt=Gt).ɵfac=function(t){return new(t||Bt)},Bt.ɵcmp=n.Xpm({type:Bt,selectors:[["tui-line-days-chart"]],viewQuery:function(t,e){if(1&t&&n.Gf(At,5),2&t){let t;n.iGM(t=n.CRH())&&(e.charts=t)}},hostVars:2,hostBindings:function(t,e){2&t&&n.Udp("z-index",e.zIndex)},inputs:{y:"y",height:"height",smoothingFactor:"smoothingFactor",hintContent:"hintContent",xStringify:"xStringify",yStringify:"yStringify",dots:"dots",valueSetter:["value","valueSetter"]},standalone:!0,features:[n._Bn([r.TuiHoveredService,{provide:It,useExisting:Bt}]),n.jDz],decls:3,vars:1,consts:[["class","t-chart",3,"dots","height","smoothingFactor","zIndex","tuiHintContent","value","width","x","xStringify","y","yStringify",4,"ngFor","ngForOf"],["hint",""],[1,"t-chart",3,"dots","height","smoothingFactor","tuiHintContent","value","width","x","xStringify","y","yStringify"],[4,"polymorpheusOutlet","polymorpheusOutletContext"]],template:function(t,e){1&t&&(n.YNc(0,qt,1,12,"tui-line-chart",0),n.YNc(1,Xt,1,4,"ng-template",null,1,n.W1O)),2&t&&n.Q6J("ngForOf",e.months)},dependencies:[At,b.sg,rt.TuiHint,Jt.bZ,Qt.wq,Qt.Li],styles:["[_nghost-%COMP%]{display:block}.t-chart[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:100%;height:100%}"],changeDetection:0}),(0,q.gn)([r.tuiPure],Gt.prototype,"getHintContext",null),(0,q.gn)([r.tuiPure],Gt.prototype,"breakMonths",null);var Vt=i(58230),Kt=i(60902),te=i(91910),ee=i(85941);let ie=(()=>{var t;class e{constructor(){this.sector$=new Kt.X([0,0]);const t=(0,r.tuiInjectElement)(),e=(0,n.f3M)(Vt.KS),i=(0,n.f3M)(Vt.L1),s=(0,n.f3M)(rt.TUI_ANIMATIONS_SPEED);this.sector$.pipe((0,te.G)(),(0,u.w)((([t,n])=>{const o=e.now(),a=n[0]-t[0],c=n[1]-t[1];return i.pipe((0,l.U)((t=>(0,r.tuiEaseInOutQuad)((0,r.tuiClamp)((t-o)/(0,rt.tuiGetDuration)(s),0,1)))),(0,ee.o)((t=>t<1),!0),(0,l.U)((e=>[t[0]+a*e,n[1]>359?n[1]:t[1]+c*e])))})),(0,r.tuiZonefree)((0,n.f3M)(n.R0b)),(0,o.sL)()).subscribe((([e,i])=>t.setAttribute("d",function(t,e){const i=(0,r.tuiToRadians)(t),n=(0,r.tuiToRadians)(e),o=100*Math.cos(i),s=100*Math.sin(i),a=100*Math.cos(n),l=100*Math.sin(n),c=["M",o,s,"A 100 100 0",(0,r.tuiToInt)(e-t>180),1,a,l,"L 0 0"];return Number.isNaN(a)?"M 100 0 A 100 100 0 1 1 100 0 L 0 0":c.join(" ")}(e,i))))}set tuiPieChart(t){this.sector$.next(t)}}return(t=e).ɵfac=function(e){return new(e||t)},t.ɵdir=n.lG2({type:t,selectors:[["path","tuiPieChart",""]],inputs:{tuiPieChart:"tuiPieChart"},standalone:!0}),e})();var ne,oe=i(22247);const se=function(t){return{$implicit:t}};function re(t,e){if(1&t){const t=n.EpF();n.O4$(),n.TgZ(0,"path",5),n.NdJ("tuiHoveredChange",(function(e){const i=n.CHM(t).$implicit,o=n.oxw();return n.KtG(o.onHovered(e,i))})),n.qZA()}if(2&t){const t=e.$implicit,i=n.oxw();n.Udp("color",i.getColor(t)),n.Q6J("tuiHint",i.hintContent)("tuiHintContext",n.VKq(6,se,t))("tuiPieChart",i.segments[t]),n.uIk("transform",i.getTransform(t))}}const ae={xs:"50",s:"50",m:"77.8",l:"81.9",xl:"81.3"},le={xs:1.15,s:1.25,m:1.11,l:1.09,xl:1.08};class ce{constructor(){this.hintOptions=(0,n.f3M)(rt.TuiHintOptionsDirective,{optional:!0}),this.autoIdString=(0,n.f3M)(r.TuiIdService).generate(),this.value=[],this.size="m",this.masked=!1,this.activeItemIndex=NaN,this.activeItemIndexChange=new n.vpe,this.hintOptions&&(this.hintOptions.showDelay=0,this.hintOptions.hideDelay=0)}get empty(){return!this.getSum(this.value)}get hintContent(){return this.hintOptions?.content||""}get maskId(){return`tui-ring-chart-${this.autoIdString}`}get mask(){return this.masked?`url(#${this.maskId})`:null}get radius(){return ae[this.size]}get segments(){return this.getSegments(this.value)}getTransform(t){const e=this.masked?`scale(${le[this.size]})`:`scale(${le.xs})`;return t===this.activeItemIndex?e:null}onHovered(t,e){this.updateActiveItemIndex(t?e:NaN)}getColor(t){return`var(--tui-chart-${t})`}getSum(t){return(0,r.tuiSum)(...t)}getSegments(t){return t.map(((t,e,i)=>i.reduce(((t,i,n)=>n<e?this.getDeg(i)+t:t),this.getDeg(t)))).map(((t,e,i)=>[i[e-1]||0,Math.min(t,359.9999)]))}getDeg(t){return t/this.getSum(this.value)*360}updateActiveItemIndex(t){t!==this.activeItemIndex&&(this.activeItemIndex=t,this.activeItemIndexChange.next(t))}}(ne=ce).ɵfac=function(t){return new(t||ne)},ne.ɵcmp=n.Xpm({type:ne,selectors:[["tui-pie-chart"]],hostVars:3,hostBindings:function(t,e){2&t&&(n.uIk("data-size",e.size),n.ekj("_empty",e.empty))},inputs:{value:"value",size:"size",masked:"masked",activeItemIndex:"activeItemIndex"},outputs:{activeItemIndexChange:"activeItemIndexChange"},standalone:!0,features:[n._Bn([],[(0,rt.tuiHintOptionsProvider)({direction:"top-right",appearance:"dark"})]),n.jDz],decls:8,vars:5,consts:[["focusable","false","height","100%","viewBox","-100 -100 200 200","width","100%","xmlns","http://www.w3.org/2000/svg",1,"t-svg"],["fill","white","height","400","width","400","x","-200","y","-200"],["cx","0","cy","0"],["cx","0","cy","0","r","100",1,"t-placeholder"],["automation-id","tui-pie-chart__segment","d","","fill","currentColor","tuiHintPointer","","class","t-segment",3,"color","tuiHint","tuiHintContext","tuiPieChart","tuiHoveredChange",4,"tuiRepeatTimes","tuiRepeatTimesOf"],["automation-id","tui-pie-chart__segment","d","","fill","currentColor","tuiHintPointer","",1,"t-segment",3,"tuiHint","tuiHintContext","tuiPieChart","tuiHoveredChange"]],template:function(t,e){1&t&&(n.O4$(),n.TgZ(0,"svg",0)(1,"defs")(2,"mask"),n._UZ(3,"rect",1)(4,"circle",2),n.qZA()(),n.TgZ(5,"g"),n._UZ(6,"circle",3),n.YNc(7,re,1,8,"path",4),n.qZA()()),2&t&&(n.xp6(2),n.uIk("id",e.maskId),n.xp6(2),n.uIk("r",e.radius),n.xp6(1),n.Udp("mask",e.mask),n.xp6(2),n.Q6J("tuiRepeatTimesOf",e.segments.length))},dependencies:[rt.TuiHint,at.D,oe.q,r.TuiRepeatTimesDirective,r.TuiHoveredDirective,ie],styles:["[_nghost-%COMP%]{position:relative;display:block;width:var(--t-size);height:var(--t-size)}[data-size=xs][_nghost-%COMP%]{--t-size: 2rem;pointer-events:none}[data-size=s][_nghost-%COMP%]{--t-size: 4rem}[data-size=m][_nghost-%COMP%]{--t-size: 9rem}[data-size=l][_nghost-%COMP%]{--t-size: 11rem}[data-size=xl][_nghost-%COMP%]{--t-size: 16rem}.t-svg[_ngcontent-%COMP%]{position:relative;overflow:visible;transform:rotate(-90deg)}.t-segment[_ngcontent-%COMP%]{transition-property:transform;transition-duration:var(--tui-duration, .3s);transition-timing-function:ease-in-out}._empty[_nghost-%COMP%]   .t-segment[_ngcontent-%COMP%]{display:none}.t-placeholder[_ngcontent-%COMP%]{fill:var(--tui-base-03)}"],changeDetection:0}),(0,q.gn)([r.tuiPure],ce.prototype,"getSum",null),(0,q.gn)([r.tuiPure],ce.prototype,"getSegments",null);const ue=["*"];let he=(()=>{var t;class e{constructor(){this.value=[],this.size="m",this.activeItemIndex=NaN,this.activeItemIndexChange=new n.vpe}onActiveItemIndexChange(t){this.updateActiveItemIndex(t)}updateActiveItemIndex(t){t!==this.activeItemIndex&&(this.activeItemIndex=t,this.activeItemIndexChange.next(t))}}return(t=e).ɵfac=function(e){return new(e||t)},t.ɵcmp=n.Xpm({type:t,selectors:[["tui-ring-chart"]],hostVars:1,hostBindings:function(t,e){2&t&&n.uIk("data-size",e.size)},inputs:{value:"value",size:"size",activeItemIndex:"activeItemIndex"},outputs:{activeItemIndexChange:"activeItemIndexChange"},standalone:!0,features:[n.jDz],ngContentSelectors:ue,decls:5,vars:4,consts:[[1,"t-content"],[1,"t-wrapper"],[1,"t-chart",3,"activeItemIndex","masked","size","value","activeItemIndexChange"],[1,"t-shield"]],template:function(t,e){1&t&&(n.F$t(),n.TgZ(0,"div",0)(1,"div",1),n.Hsn(2),n.qZA()(),n.TgZ(3,"tui-pie-chart",2),n.NdJ("activeItemIndexChange",(function(t){return e.onActiveItemIndexChange(t)})),n.qZA(),n._UZ(4,"div",3)),2&t&&(n.xp6(3),n.Q6J("activeItemIndex",e.activeItemIndex)("masked",!0)("size",e.size)("value",e.value))},dependencies:[ce],styles:["[_nghost-%COMP%]{position:relative;display:block;width:var(--t-size);height:var(--t-size);flex-shrink:0}[data-size=xs][_nghost-%COMP%]{--t-size: 3rem}[data-size=s][_nghost-%COMP%]{--t-size: 4rem}[data-size=m][_nghost-%COMP%]{--t-size: 9rem}[data-size=l][_nghost-%COMP%]{--t-size: 11rem}[data-size=xl][_nghost-%COMP%]{--t-size: 16rem}.t-content[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:100%;height:100%;display:flex;font:var(--tui-font-text-m);max-height:100%;flex-direction:column;justify-content:center;text-align:center;padding:1.5rem;border-radius:100%;box-sizing:border-box;overflow:hidden;word-break:break-word;white-space:pre-wrap;color:var(--tui-text-02)}[data-size=m][_nghost-%COMP%]   .t-content[_ngcontent-%COMP%]{font:var(--tui-font-text-xs)}.t-wrapper[_ngcontent-%COMP%]:first-line{color:var(--tui-text-01)}[data-size=l][_nghost-%COMP%]   .t-wrapper[_ngcontent-%COMP%]:first-line{font:var(--tui-font-text-l);font-weight:700}[data-size=m][_nghost-%COMP%]   .t-wrapper[_ngcontent-%COMP%]:first-line{font:var(--tui-font-text-m);font-weight:700}.t-shield[_ngcontent-%COMP%]{position:absolute;top:25%;left:25%;right:25%;bottom:25%;border-radius:100%}.t-chart[_ngcontent-%COMP%]{width:100%;height:100%}"],changeDetection:0}),e})()}}]);