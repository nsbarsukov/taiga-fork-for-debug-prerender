(self.webpackChunkdemo=self.webpackChunkdemo||[]).push([[89609],{89609:(t,e,s)=>{s.r(e),s.d(e,{default:()=>O});var i=s(4594),n=s(66094),a=s(85483),r=s(26856),o=s(37399),u=s(69104),c=s(98808),l=s(39908),g=s(51160),m=s(35548),p=s(70705),h=s(7911),f=s(139),d=s(53958),v=s(99931),w=s(88635),C=s(23199),U=s(55802),T=s(75901),x=s(53221),b=s(86949);const Z=["avatar"];function L(t,e){if(1&t){const t=m.EpF();m.TgZ(0,"button",13),m.NdJ("click",(function(){const e=m.CHM(t).$implicit,s=m.oxw(4);return m.KtG(s.onSelected(e))})),m._uU(1),m.TgZ(2,"tui-avatar",14),m._uU(3),m.ALo(4,"tuiInitials"),m.qZA()()}if(2&t){const t=e.$implicit;m.Q6J("value",t.toString()),m.xp6(1),m.hij(" ",t," "),m.xp6(1),m.Q6J("src",t.avatarUrl),m.xp6(1),m.hij(" ",m.lcZ(4,4,t.toString())," ")}}function A(t,e){if(1&t&&(m.TgZ(0,"tui-data-list"),m.YNc(1,L,5,6,"button",12),m.qZA()),2&t){const t=m.oxw(2).tuiLet;m.xp6(1),m.Q6J("ngForOf",t)}}function N(t,e){1&t&&(m.ynx(0),m.YNc(1,A,2,1,"tui-data-list",11),m.BQk())}function y(t,e){if(1&t&&(m.TgZ(0,"tui-input",8),m._uU(1," User "),m._UZ(2,"input",9),m.YNc(3,N,2,0,"ng-container",10),m.qZA()),2&t){const t=e.tuiLet,s=m.oxw();m.Q6J("tuiTextfieldCustomContent",s.content),m.xp6(3),m.Q6J("ngIf",null==t?null:t.length)}}function I(t,e){if(1&t&&(m.TgZ(0,"tui-avatar",16),m._uU(1),m.ALo(2,"tuiInitials"),m.qZA()),2&t){const t=m.oxw(2);m.Q6J("src",t.lastUser.avatarUrl),m.xp6(1),m.hij(" ",m.lcZ(2,2,t.lastUser.toString())," ")}}function S(t,e){if(1&t&&m.YNc(0,I,3,4,"tui-avatar",15),2&t){const t=m.oxw();m.Q6J("ngIf",t.lastUser)}}function _(t,e){if(1&t&&m._UZ(0,"tui-data-list-wrapper",17),2&t){const t=m.oxw(),e=m.MAs(9);m.Q6J("itemContent",e)("items",t.accounts)}}function J(t,e){if(1&t&&(m.TgZ(0,"div"),m._uU(1),m.TgZ(2,"span"),m._uU(3),m.ALo(4,"async"),m.ALo(5,"tuiAmount"),m.qZA()()),2&t){const t=e.$implicit;m.xp6(1),m.hij(" ",t.name," "),m.xp6(2),m.Oqu(m.lcZ(4,2,m.xi3(5,4,t.amount,"RUB")))}}class Q{constructor(t,e,s=null,i=[],n=""){this.firstName=t,this.lastName=e,this.avatarUrl=s,this.accounts=i,this.card=n}toString(){return`${this.firstName} ${this.lastName}`}}class D{constructor(t,e,s,i,n){this.id=t,this.name=e,this.amount=s,this.currency=i,this.cardSvg=n}toString(){return this.name}}const q=[new D("1","RUB",24876.55,r.TuiCurrency.Ruble,"https://ng-web-apis.github.io/dist/assets/images/common.svg"),new D("2","USD",335,r.TuiCurrency.Dollar,"https://ng-web-apis.github.io/dist/assets/images/geolocation.svg")],F=[new D("3","EUR",1e4,r.TuiCurrency.Euro,"https://ng-web-apis.github.io/dist/assets/images/intersection-observer.svg"),new D("4","PND",100,r.TuiCurrency.Pound,"https://ng-web-apis.github.io/dist/assets/images/payment-request.svg")],k=[new Q("Roman","Sedov","https://avatars.githubusercontent.com/u/10106368",q),new Q("Alex","Inkin",a.Ll`/images/avatar.jpg`,F,"1234123412341234"),new Q("Dmitriy","Demenskiy"),new Q("Evgeniy","Mamaev"),new Q("Ivan","Ishmametiev"),new Q("Igor","Katsuba"),new Q("Yulia","Tsareva")],O=(()=>{var t;class e{constructor(){this.user=new n.NI(""),this.testForm=new n.cw({user:this.user,account:new n.NI(""),card:new n.NI("")}),this.lastUser=null,this.users$=(0,o.tuiControlValue)(this.user).pipe((0,g.U)((t=>{const e=k.filter((e=>(0,o.TUI_DEFAULT_MATCHER)(e,t)));return 1!==e.length||String(e[0]).toLowerCase()!==t.toLowerCase()?e:(this.onSelected(e[0]),[])})))}get card(){const t=this.testForm.get("card").value;if((t?.length??0)<7)return null;switch(t?.charAt(0)){case"0":case"1":case"2":return"https://ng-web-apis.github.io/dist/assets/images/common.svg";case"3":case"4":case"5":return"https://ng-web-apis.github.io/dist/assets/images/geolocation.svg";case"6":case"7":return"https://ng-web-apis.github.io/dist/assets/images/intersection-observer.svg";default:return"https://ng-web-apis.github.io/dist/assets/images/payment-request.svg"}}get isUserSelected(){return null!==this.lastUser&&this.lastUser.toString().toLowerCase()===this.testForm.get("user")?.value?.toLowerCase()}get content(){return this.avatar&&this.isUserSelected?this.avatar:""}get accounts(){return this.isUserSelected&&this.lastUser?.accounts||[]}onSelected(t){this.lastUser=t,this.testForm.get("card").setValue(t.card)}}return(t=e).ɵfac=function(e){return new(e||t)},t.ɵcmp=m.Xpm({type:t,selectors:[["ng-component"]],viewQuery:function(t,e){if(1&t&&m.Gf(Z,5),2&t){let t;m.iGM(t=m.CRH())&&(e.avatar=t.first)}},standalone:!0,exportAs:"ExampleComponent4",features:[m.jDz],decls:14,vars:5,consts:[[1,"container",3,"formGroup"],["formControlName","user",3,"tuiTextfieldCustomContent",4,"tuiLet"],["avatar",""],["formControlName","account",1,"tui-space_vertical-5"],[3,"itemContent","items",4,"tuiDataList"],["accountContent",""],["tuiLabel",""],["formControlName","card","tuiInputCard","","tuiTextfield","",3,"icon"],["formControlName","user",3,"tuiTextfieldCustomContent"],["placeholder","Type your name or surname","tuiTextfieldLegacy",""],[4,"ngIf"],[4,"tuiDataList"],["tuiOption","",3,"value","click",4,"ngFor","ngForOf"],["tuiOption","",3,"value","click"],["size","xs",3,"src"],["size","s",3,"src",4,"ngIf"],["size","s",3,"src"],[3,"itemContent","items"]],template:function(t,e){1&t&&(m.TgZ(0,"form",0),m.YNc(1,y,4,2,"tui-input",1),m.ALo(2,"async"),m.YNc(3,S,1,1,"ng-template",null,2,m.W1O),m.TgZ(5,"tui-input",3),m._uU(6," Account "),m.YNc(7,_,1,2,"tui-data-list-wrapper",4),m.YNc(8,J,6,7,"ng-template",null,5,m.W1O),m.qZA(),m.TgZ(10,"tui-textfield")(11,"label",6),m._uU(12,"Card number"),m.qZA(),m._UZ(13,"input",7),m.qZA()()),2&t&&(m.Q6J("formGroup",e.testForm),m.xp6(1),m.Q6J("tuiLet",m.lcZ(2,3,e.users$)),m.xp6(12),m.Q6J("icon",e.card))},dependencies:[n.UX,n._Y,n.Fj,n.JJ,n.JL,n.sg,n.u,l.QfL,p.K,h.w,f.M,o.TuiLetDirective,i.Ov,l.cnw,d.B,i.O5,u.TuiDataList,v.q,w.v,C.g,i.sg,c.TuiAvatarComponent,u.TuiInitialsPipe,c.TuiDataListWrapper,U.e,r.TuiAmountPipe,u.TuiTextfield,T.X,x.M,b.b,r.TuiInputCard],styles:[".container[_ngcontent-%COMP%]{max-width:18rem}"],changeDetection:0}),e})()}}]);