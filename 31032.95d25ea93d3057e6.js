"use strict";(self.webpackChunkdemo=self.webpackChunkdemo||[]).push([[31032],{31032:(ut,D,o)=>{o.r(D),o.d(D,{default:()=>rt});var g=o(4594),r=o(66094),h=o(49237),s=o(37399),c=o(69104),A=o(98808),C=o(39908),m=o(60902),f=o(29963),v=o(75123),b=o(275),T=o(905),L=o(89407),d=o(51160),x=o(13591),B=o(84439),t=o(35548),U=o(86561),y=o(84155),I=o(4855),K=o(93098),W=o(23772),R=o(64419),Z=o(99829),J=o(25138),$=o(24242),Q=o(23014),S=o(90070),N=o(46953),j=o(85454),H=o(70705),Y=o(7911),F=o(59756),z=o(74922);function X(e,i){if(1&e){const _=t.EpF();t.TgZ(0,"tui-reorder",7),t.NdJ("itemsChange",function(a){t.CHM(_);const l=t.oxw();return t.KtG(l.initial=a)})("enabledChange",function(a){t.CHM(_);const l=t.oxw();return t.KtG(l.onEnabled(a))}),t.qZA()}if(2&e){const _=t.oxw();t.Q6J("enabled",_.enabled)("items",_.initial)}}function G(e,i){1&e&&(t.TgZ(0,"th",14),t._uU(1," Name "),t.qZA())}function V(e,i){1&e&&(t.TgZ(0,"th",14),t._uU(1," Date of Birth "),t.qZA())}function w(e,i){1&e&&(t.TgZ(0,"th",14),t._uU(1," Age "),t.qZA())}function q(e,i){if(1&e&&(t.TgZ(0,"td",19),t._uU(1),t.qZA()),2&e){const _=t.oxw().$implicit,n=t.oxw(3);t.ekj("match",n.isMatch(_.name)),t.xp6(1),t.hij(" ",_.name," ")}}function k(e,i){if(1&e&&(t.TgZ(0,"td",19),t._uU(1),t.qZA()),2&e){const _=t.oxw().$implicit,n=t.oxw(3);t.ekj("match",n.isMatch(_.dob)),t.xp6(1),t.hij(" ",_.dob," ")}}function tt(e,i){if(1&e&&(t.TgZ(0,"td",19),t._uU(1),t.qZA()),2&e){const _=t.oxw().$implicit,n=t.oxw(3);t.ekj("match",n.isMatch(n.getAge(_))),t.xp6(1),t.hij(" ",n.getAge(_)," ")}}function nt(e,i){1&e&&(t.TgZ(0,"tr",17),t.YNc(1,q,2,3,"td",18),t.YNc(2,k,2,3,"td",18),t.YNc(3,tt,2,3,"td",18),t.qZA()),2&e&&(t.xp6(1),t.Q6J("tuiCell","name"),t.xp6(1),t.Q6J("tuiCell","dob"),t.xp6(1),t.Q6J("tuiCell","age"))}function et(e,i){if(1&e&&(t.TgZ(0,"tbody",15),t.YNc(1,nt,4,3,"tr",16),t.qZA()),2&e){const _=i.tuiLet;t.Q6J("data",_),t.xp6(1),t.Q6J("ngForOf",_)}}function ot(e,i){if(1&e){const _=t.EpF();t.TgZ(0,"table",8),t.NdJ("directionChange",function(a){t.CHM(_);const l=t.oxw();return t.KtG(l.direction$.next(a))})("tuiSortByChange",function(a){t.CHM(_);const l=t.oxw();return t.KtG(l.sorter$.next(a))}),t.ALo(1,"async"),t.ALo(2,"async"),t.TgZ(3,"thead")(4,"tr",9),t.YNc(5,G,2,0,"th",10),t.YNc(6,V,2,0,"th",10),t.YNc(7,w,2,0,"th",10),t.qZA()(),t.YNc(8,et,2,2,"tbody",11),t.ALo(9,"tuiTableSort"),t.TgZ(10,"tfoot")(11,"tr")(12,"td",12)(13,"tui-table-pagination",13),t.NdJ("paginationChange",function(a){t.CHM(_);const l=t.oxw();return t.KtG(l.onPagination(a))}),t.ALo(14,"async"),t.qZA()()()()()}if(2&e){const _=i.ngIf,n=t.oxw();t.Q6J("columns",n.columns)("direction",t.lcZ(1,9,n.direction$)||1)("tuiSortBy",t.lcZ(2,11,n.sorter$)),t.xp6(5),t.Q6J("tuiHead","name"),t.xp6(1),t.Q6J("tuiHead","dob"),t.xp6(1),t.Q6J("tuiHead","age"),t.xp6(1),t.Q6J("tuiLet",t.lcZ(9,13,_)),t.xp6(4),t.Q6J("colSpan",n.columns.length),t.xp6(1),t.Q6J("total",t.lcZ(14,15,n.total$)||0)}}const u=s.TuiDay.currentLocal(),_t=["John","Jane","Jack","Jill","James","Joan","Jim","Julia","Joe","Julia"],at=["Smith","West","Brown","Jones","Davis","Miller","Johnson","Jackson","Williams","Wilson"],it=Array.from({length:300},()=>({name:`${at[Math.floor(10*Math.random())]}, ${_t[Math.floor(10*Math.random())]}`,dob:u.append({day:-Math.floor(4e3*Math.random())-7500})})),lt={Name:"name",Age:"age","Date of Birth":"dob"};function p({dob:e}){const _=u.month-e.month;return u.year-e.year+(0,s.tuiToInt)(_>0||!_&&u.day-e.day>9)}const rt=(()=>{var e;class i{constructor(){this.size$=new m.X(10),this.page$=new m.X(0),this.direction$=new m.X(-1),this.sorter$=new m.X("name"),this.minAge=new r.NI(21),this.request$=(0,f.a)([this.sorter$,this.direction$,this.page$,this.size$,(0,s.tuiControlValue)(this.minAge)]).pipe((0,v.b)(0),(0,b.w)(n=>this.getData(...n).pipe((0,T.O)(null))),(0,L.B)()),this.initial=["Name","Date of Birth","Age"],this.enabled=this.initial,this.columns=["name","dob","age"],this.search="",this.loading$=this.request$.pipe((0,d.U)(s.tuiIsFalsy)),this.total$=this.request$.pipe((0,x.h)(s.tuiIsPresent),(0,d.U)(({length:n})=>n),(0,T.O)(1)),this.data$=this.request$.pipe((0,x.h)(s.tuiIsPresent),(0,d.U)(n=>n.filter(s.tuiIsPresent)),(0,T.O)([])),this.getAge=p}onEnabled(n){this.enabled=n,this.columns=this.initial.filter(a=>n.includes(a)).map(a=>lt[a])}onDirection(n){this.direction$.next(n)}onPagination({page:n,size:a}){this.page$.next(n),this.size$.next(a)}isMatch(n){return!!this.search&&(0,s.TUI_DEFAULT_MATCHER)(n,this.search)}getData(n,a,l,E,ct){console.info("Making a request");const O=l*E,mt=O+E,dt=[...it].sort(function st(e,i){return(_,n)=>"age"===e?i*(0,s.tuiDefaultSort)(p(_),p(n)):i*(0,s.tuiDefaultSort)(_[e],n[e])}(n,a)).filter(M=>p(M)>=ct).map((M,P)=>P>=O&&P<mt?M:null);return(0,B.H)(3e3).pipe((0,d.U)(()=>dt))}}return(e=i).\u0275fac=function(n){return new(n||e)},e.\u0275cmp=t.Xpm({type:e,selectors:[["ng-component"]],standalone:!0,exportAs:"ExampleComponent4",features:[t.jDz],decls:13,vars:11,consts:[["tuiTextfieldSize","m",1,"filters"],[1,"input",3,"tuiTextfieldCleaner","ngModel","ngModelChange"],["decimal","never",1,"tui-space_horizontal-3",3,"formControl"],["size","m","tuiButton","","tuiChevron","","tuiDropdownOpen","","type","button",3,"tuiDropdown"],["dropdown",""],[3,"overlay","showLoader"],["tuiTable","","class","table",3,"columns","direction","tuiSortBy","directionChange","tuiSortByChange",4,"ngIf"],[1,"columns",3,"enabled","items","itemsChange","enabledChange"],["tuiTable","",1,"table",3,"columns","direction","tuiSortBy","directionChange","tuiSortByChange"],["tuiThGroup",""],["tuiSortable","","tuiTh","",4,"tuiHead"],["tuiTbody","",3,"data",4,"tuiLet"],[3,"colSpan"],[1,"tui-space_top-2",3,"total","paginationChange"],["tuiSortable","","tuiTh",""],["tuiTbody","",3,"data"],["tuiTr","",4,"ngFor","ngForOf"],["tuiTr",""],["tuiTd","",3,"match",4,"tuiCell"],["tuiTd",""]],template:function(n,a){if(1&n&&(t.TgZ(0,"p",0)(1,"tui-input",1),t.NdJ("ngModelChange",function(E){return a.search=E}),t._uU(2," Find on page "),t.qZA(),t.TgZ(3,"tui-input-number",2),t._uU(4," Minimum age "),t.qZA(),t.TgZ(5,"button",3),t._uU(6," Columns "),t.qZA(),t.YNc(7,X,1,2,"ng-template",null,4,t.W1O),t.qZA(),t.TgZ(9,"tui-loader",5),t.ALo(10,"async"),t.YNc(11,ot,15,17,"table",6),t.ALo(12,"async"),t.qZA()),2&n){const l=t.MAs(8);t.xp6(1),t.Q6J("tuiTextfieldCleaner",!0)("ngModel",a.search),t.xp6(2),t.Q6J("formControl",a.minAge),t.xp6(2),t.Q6J("tuiDropdown",l),t.xp6(4),t.Q6J("overlay",!0)("showLoader",!!t.lcZ(10,7,a.loading$)),t.xp6(2),t.Q6J("ngIf",t.lcZ(12,9,a.data$))}},dependencies:[h.TuiTable,U.c,y.j,I.E,K.W,W.K,R.f,Z.B,J.D,$.P,Q.g,S.y,C.cnw,N.b,j.s,C.QfL,H.K,Y.w,C._Hh,F.q,z.g,h.TuiReorderComponent,c.TuiLoaderComponent,g.Ov,g.O5,h.TuiTablePaginationComponent,r.UX,r.JJ,r.oH,c.TuiDropdownDirective,c.TuiButtonDirective,A.TuiChevronDirective,c.TuiDropdownOpenDirective,r.u5,r.On,g.sg,s.TuiLetDirective],styles:[".table[_ngcontent-%COMP%]{width:100%}.filters[_ngcontent-%COMP%]{display:flex}.input[_ngcontent-%COMP%]{flex:1}.columns[_ngcontent-%COMP%]{width:10.625rem}.match[_ngcontent-%COMP%]{background:var(--tui-selection)}"],changeDetection:0}),i})()}}]);