"use strict";(self.webpackChunkdemo=self.webpackChunkdemo||[]).push([[79708],{79708:(v,u,o)=>{o.r(u),o.d(u,{default:()=>O});var m=o(4594),n=o(66094),c=o(37399),s=o(69104),h=o(98808),p=o(39908),t=o(35548),E=o(38252),f=o(63142),g=o(139),C=o(10188),P=o(85454);const D=["phoneErrorContent"];function T(i,a){1&i&&t._uU(0,"Invalid phone number length")}const d=function(){return[]};function x(i,a){if(1&i){const l=t.EpF();t.TgZ(0,"label",4),t._uU(1),t.TgZ(2,"span",5)(3,"tui-input-phone",6),t._UZ(4,"input",7),t.qZA(),t.TgZ(5,"button",8),t.NdJ("click",function(){const _=t.CHM(l).index,M=t.oxw();return t.KtG(M.removePhone(_))}),t._uU(6," Delete phone number "),t.qZA()(),t.YNc(7,T,1,0,"ng-template",null,9,t.W1O),t._UZ(9,"tui-error",10),t.ALo(10,"async"),t.ALo(11,"tuiFieldError"),t.qZA()}if(2&i){const l=a.index;t.xp6(1),t.hij(" Phone number ",l+1," "),t.xp6(2),t.s9C("formControlName",l),t.Q6J("tuiTextfieldLabelOutside",!0),t.xp6(6),t.s9C("formControlName",l),t.Q6J("error",t.lcZ(10,5,t.lcZ(11,7,t.DdM(9,d))))}}const O=(()=>{var i;class a{constructor(){this.testForm=new n.cw({phones:new n.Oe([new n.NI("",[n.kI.required,this.getPhoneLengthValidator()])],[this.getPhoneArrayValidator()])})}get formData(){return this.testForm.get("phones")}addPhone(){this.formData.push(new n.NI("",this.addValidators()))}removePhone(e){this.formData.removeAt(e);let r=0;for(;r<=1&&this.formData.controls[r];)this.formData.controls[r].setValidators([n.kI.required,this.getPhoneLengthValidator()]),r++}addValidators(){return this.formData.controls.length<2?[n.kI.required,this.getPhoneLengthValidator()]:null}getPhoneLengthValidator(){return e=>12!==e.value.length?{length:new c.TuiValidationError(this.phoneErrorContent)}:null}getPhoneArrayValidator(){return e=>e.controls.length<2||e.controls.filter(r=>r.errors).length&&e.controls.length?{length:new c.TuiValidationError("You should add at least 2 phone number")}:null}}return(i=a).\u0275fac=function(e){return new(e||i)},i.\u0275cmp=t.Xpm({type:i,selectors:[["ng-component"]],viewQuery:function(e,r){if(1&e&&t.Gf(D,5),2&e){let _;t.iGM(_=t.CRH())&&(r.phoneErrorContent=_.first)}},standalone:!0,exportAs:"ExampleComponent4",features:[t.jDz],decls:7,vars:8,consts:[[3,"formGroup"],["formArrayName","phones","tuiLabel","","class","tui-space_bottom-4",4,"ngFor","ngForOf"],["formArrayName","phones",1,"form-array-error",3,"error"],["size","s","tuiButton","","type","button",1,"tui-space_top-4",3,"click"],["formArrayName","phones","tuiLabel","",1,"tui-space_bottom-4"],[1,"row"],["tuiTextfieldSize","m",1,"input",3,"formControlName","tuiTextfieldLabelOutside"],["autocomplete","new-password","tuiTextfieldLegacy",""],["appearance","icon","iconLeft","tuiIconTrash","size","m","tuiIconButton","","type","button",1,"tui-space_left-2","icon",3,"click"],["phoneErrorContent",""],[3,"formControlName","error"]],template:function(e,r){1&e&&(t.TgZ(0,"form",0),t.YNc(1,x,12,10,"label",1),t._UZ(2,"tui-error",2),t.ALo(3,"async"),t.ALo(4,"tuiFieldError"),t.TgZ(5,"button",3),t.NdJ("click",function(){return r.addPhone()}),t._uU(6," Add a phone number "),t.qZA()()),2&e&&(t.Q6J("formGroup",r.testForm),t.xp6(1),t.Q6J("ngForOf",r.formData.controls),t.xp6(1),t.Q6J("error",t.lcZ(3,3,t.lcZ(4,5,t.DdM(7,d)))))},dependencies:[n.UX,n._Y,n.JJ,n.JL,n.sg,n.u,n.CE,m.sg,s.TuiLabelDirective,p.Kjg,E.y,f.X,g.M,s.TuiTextfieldOptionsDirective,p.cnw,C.x,P.s,s.TuiButtonDirective,s.TuiErrorComponent,h.TuiFieldErrorPipe,m.Ov],styles:[".input[_ngcontent-%COMP%]{width:20rem}.row[_ngcontent-%COMP%]{display:flex;align-items:center}.form-array-error[_ngcontent-%COMP%]{font-size:.875rem}"],changeDetection:0}),a})()}}]);