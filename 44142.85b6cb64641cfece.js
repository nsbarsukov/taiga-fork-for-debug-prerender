"use strict";(self.webpackChunkdemo=self.webpackChunkdemo||[]).push([[44142],{44142:(F,E,_)=>{_.r(E),_.d(E,{default:()=>I});var m,c=_(84911),f=_(4594),t=_(35548),C=_(66094),h=_(5435),r=_(37399),y=_(69104),M=_(39908),O=_(51160),d=_(97318),D=_(72265),P=_(13565);function v(o,n){if(1&o&&(t.TgZ(0,"span",7)(1,"small",8),t._uU(2),t.qZA()()),2&o){const e=n.index;t.xp6(2),t.hij("Chart ",e+1,"")}}function L(o,n){if(1&o&&(t._UZ(0,"tui-line-days-chart",13),t.ALo(1,"tuiFilter")),2&o){const e=n.$implicit,a=t.oxw(3);t.Q6J("height",200)("value",t.Dn7(1,2,e,a.filter,a.range))}}function A(o,n){if(1&o&&(t.ynx(0),t.YNc(1,L,2,6,"tui-line-days-chart",12),t.BQk()),2&o){const e=t.oxw(2);t.xp6(1),t.Q6J("ngForOf",e.days)}}function R(o,n){if(1&o&&(t._UZ(0,"tui-line-chart",15),t.ALo(1,"tuiMapper"),t.ALo(2,"tuiFilter")),2&o){const e=n.$implicit,a=t.oxw(3);t.Q6J("height",200)("value",t.Dn7(1,3,t.Dn7(2,7,e,a.filter,a.range),a.toNumbers,a.range))("width",a.getWidth(a.range))}}function U(o,n){if(1&o&&t.YNc(0,R,3,11,"tui-line-chart",14),2&o){const e=t.oxw(2);t.Q6J("ngForOf",e.days)}}function W(o,n){if(1&o&&(t.TgZ(0,"tui-axes",9),t.YNc(1,A,2,1,"ng-container",10),t.YNc(2,U,1,1,"ng-template",null,11,t.W1O),t.qZA()),2&o){const e=n.ngIf,a=t.MAs(3),i=t.oxw(),l=t.MAs(14);t.Q6J("axisXLabels",e)("horizontalLines",4)("tuiLineChartHint",l)("verticalLines",e.length),t.xp6(1),t.Q6J("ngIf",i.getWidth(i.show)>90)("ngIfElse",a)}}function w(o,n){if(1&o&&(t.TgZ(0,"div",7)(1,"span",17),t._uU(2),t.qZA()()),2&o){const e=n.$implicit;t.xp6(2),t.hij("$",e[1].toFixed(0),"")}}function B(o,n){if(1&o&&(t.TgZ(0,"div",16)(1,"strong"),t._uU(2),t.qZA()(),t.TgZ(3,"div"),t.YNc(4,w,3,1,"div",4),t.qZA()),2&o){const e=n.$implicit,a=t.oxw();t.xp6(2),t.Oqu(a.getDate(e[0][0],a.range.from)),t.xp6(2),t.Q6J("ngForOf",e)}}class g{constructor(){this.isE2E=(0,t.f3M)(r.TUI_IS_E2E),this.months$=(0,t.f3M)(y.TUI_MONTHS),this.data=new r.TuiDayRange(r.TuiDay.currentLocal(),r.TuiDay.currentLocal().append({month:5})),this.show=this.data,this.days=this.random(this.data),this.maxLength={month:6},this.filter=([n],{from:e,to:a})=>n.daySameOrAfter(e)&&n.daySameOrBefore(a),this.toNumbers=(n,{from:e})=>n.map(([a,i])=>[r.TuiDay.lengthBetween(e,a),i])}get range(){return this.computeRange(this.show)}getWidth({from:n,to:e}){return r.TuiDay.lengthBetween(n,e)}getDate(n,e){return n instanceof r.TuiDay?n:e.append({day:n})}labels({from:n,to:e}){const a=r.TuiDay.lengthBetween(n,e);if(a>90)return this.months$.pipe((0,O.U)(u=>Array.from({length:r.TuiMonth.lengthBetween(n,e)+1},(p,x)=>u[n.append({month:x}).month])));const i=Array.from({length:a},(u,p)=>n.append({day:p})),l=function Z(o){return o.filter(n=>!n.dayOfWeek()).map(String)}(i),s=i.map(String);return(0,d.of)(a>60?T(l):a>14?l:a>7?T(s):s)}onDataChange(n){this.days=this.random(n)}computeRange(n){const{from:e,to:a}=n,i=r.TuiDay.lengthBetween(e,a),l=e.dayOfWeek(),s=a.dayOfWeek(),u=l?e.append({day:7-l}):e,p=s?a.append({day:7-s}):a,x=r.TuiDay.lengthBetween(u,p);return i>90?n:i>60?new r.TuiDayRange(u,p.append({day:x%14})):i>14?new r.TuiDayRange(u,p):new r.TuiDayRange(e,a.append({day:i%2}))}generateRandomData({from:n,to:e},a){return new Array(r.TuiDay.lengthBetween(n,e)+1).fill(0).reduce((i,l,s)=>[...i,[n.append({day:s}),this.isE2E?a:Math.max((s?i[s-1][1]:a)+10*Math.random()-5,0)]],[]).filter(([i])=>i.dayOfWeek()<5)}random(n){return[this.generateRandomData(n,100),this.generateRandomData(n,75),this.generateRandomData(n,50)]}}(m=g).\u0275fac=function(n){return new(n||m)},m.\u0275cmp=t.Xpm({type:m,selectors:[["ng-component"]],standalone:!0,exportAs:"ExampleComponent2",features:[t.jDz],decls:15,vars:8,consts:[[1,"controls"],[3,"maxLength","ngModel","ngModelChange"],[1,"tui-space_left-4",3,"maxLength","ngModel","ngModelChange"],[1,"legend"],["class","item",4,"ngFor","ngForOf"],["class","axes",3,"axisXLabels","horizontalLines","tuiLineChartHint","verticalLines",4,"ngIf"],["hint",""],[1,"item"],[1,"name"],[1,"axes",3,"axisXLabels","horizontalLines","tuiLineChartHint","verticalLines"],[4,"ngIf","ngIfElse"],["line",""],["class","chart",3,"height","value",4,"ngFor","ngForOf"],[1,"chart",3,"height","value"],["class","chart",3,"height","value","width",4,"ngFor","ngForOf"],[1,"chart",3,"height","value","width"],[1,"tui-space_bottom-2"],[1,"value"]],template:function(n,e){1&n&&(t.TgZ(0,"tui-notification")(1,"code"),t._uU(2,"TuiLineDaysChart"),t.qZA(),t._uU(3," is used to show data of several months to simplify working with different number of days in months\n"),t.qZA(),t.TgZ(4,"p",0)(5,"tui-input-date-range",1),t.NdJ("ngModelChange",function(i){return e.data=i})("ngModelChange",function(i){return e.onDataChange(i)}),t._uU(6," Data "),t.qZA(),t.TgZ(7,"tui-input-date-range",2),t.NdJ("ngModelChange",function(i){return e.show=i}),t._uU(8," Visible range "),t.qZA()(),t.TgZ(9,"p",3),t.YNc(10,v,3,1,"span",4),t.qZA(),t.YNc(11,W,4,6,"tui-axes",5),t.ALo(12,"async"),t.YNc(13,B,5,2,"ng-template",null,6,t.W1O)),2&n&&(t.xp6(5),t.Q6J("maxLength",e.maxLength)("ngModel",e.data),t.xp6(2),t.Q6J("maxLength",e.maxLength)("ngModel",e.show),t.xp6(3),t.Q6J("ngForOf",e.days),t.xp6(1),t.Q6J("ngIf",t.lcZ(12,6,e.labels(e.show))))},dependencies:[y.TuiNotificationComponent,M.sR_,D.H,P.d,C.u5,C.JJ,C.On,h.TuiAxesComponent,f.sg,f.O5,f.Ov,h.TuiLineDaysChartHintDirective,h.TuiLineDaysChartComponent,r.TuiFilterPipe,h.TuiLineChartComponent,r.TuiMapperPipe],styles:['.axes[_ngcontent-%COMP%]{height:12.5rem}.controls[_ngcontent-%COMP%]{display:flex}.controls[_ngcontent-%COMP%]   tui-input-date-range[_ngcontent-%COMP%]{flex:1}.legend[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center}.item[_ngcontent-%COMP%]{color:var(--tui-support-01);display:flex;align-items:center;margin:0 .75rem}.item[_ngcontent-%COMP%]:first-child{color:var(--tui-support-08)}.item[_ngcontent-%COMP%]:last-child{color:var(--tui-support-12)}.item[_ngcontent-%COMP%]:before{content:"";border-bottom:.125rem solid;width:1rem;margin-right:.5rem}.name[_ngcontent-%COMP%]{color:var(--tui-text-01)}.value[_ngcontent-%COMP%]{color:var(--tui-text-01-night)}.chart[_ngcontent-%COMP%]{color:var(--tui-support-01);position:absolute;top:0;left:0;width:100%;height:100%}.chart[_ngcontent-%COMP%]:first-child{color:var(--tui-support-08)}.chart[_ngcontent-%COMP%]:last-child{color:var(--tui-support-12)}'],changeDetection:0}),(0,c.gn)([r.tuiPure],g.prototype,"getWidth",null),(0,c.gn)([r.tuiPure],g.prototype,"getDate",null),(0,c.gn)([r.tuiPure],g.prototype,"labels",null),(0,c.gn)([r.tuiPure],g.prototype,"computeRange",null),(0,c.gn)([r.tuiPure],g.prototype,"generateRandomData",null);const I=g;function T(o){return o.filter((n,e)=>!(e%2))}}}]);