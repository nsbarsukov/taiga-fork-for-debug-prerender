(self.webpackChunkdemo=self.webpackChunkdemo||[]).push([[79482],{79482:(e,n,i)=>{i.r(n),i.d(n,{default:()=>I});var t=i(4594),o=i(66094),l=i(98808),s=i(13448),c=i(275),f=i(97318),u=i(84439),r=i(51160),a=i(70215),p=i(35548);function d(e,n){if(1&e&&(p.TgZ(0,"label",5),p._UZ(1,"input",6),p.qZA()),2&e){const e=p.oxw();p.xp6(1),p.Q6J("formControl",e.control)}}function m(e,n){if(1&e){const e=p.EpF();p.TgZ(0,"tui-file",7),p.NdJ("remove",(function(){p.CHM(e);const n=p.oxw();return p.KtG(n.removeFile())})),p.qZA()}if(2&e){const e=n.ngIf;p.Q6J("file",e)}}function F(e,n){if(1&e){const e=p.EpF();p.TgZ(0,"tui-file",8),p.NdJ("remove",(function(){p.CHM(e);const n=p.oxw();return p.KtG(n.removeFile())})),p.qZA()}if(2&e){const e=n.ngIf;p.Q6J("file",e)}}function g(e,n){if(1&e){const e=p.EpF();p.TgZ(0,"tui-file",7),p.NdJ("remove",(function(){p.CHM(e);const n=p.oxw();return p.KtG(n.removeFile())})),p.qZA()}if(2&e){const e=n.ngIf;p.Q6J("file",e)}}function v(e,n){if(1&e){const e=p.EpF();p.TgZ(0,"tui-file",9),p.NdJ("remove",(function(){p.CHM(e);const n=p.oxw();return p.KtG(n.removeFile())})),p.qZA()}if(2&e){const e=n.ngIf;p.Q6J("file",e)}}const x=function(){return{accept:"image/*"}},I=(()=>{var e;class n{constructor(){this.control=new o.NI(null),this.failedFiles$=new s.x,this.loadingFiles$=new s.x,this.loadedFiles$=this.control.valueChanges.pipe((0,c.w)((e=>this.processFile(e))))}removeFile(){this.control.setValue(null)}processFile(e){return this.failedFiles$.next(null),this.control.invalid||!e?(0,f.of)(null):(this.loadingFiles$.next(e),(0,u.H)(1e3).pipe((0,r.U)((()=>Math.random()>.5?e:(this.failedFiles$.next(e),null))),(0,a.x)((()=>this.loadingFiles$.next(null)))))}}return(e=n).ɵfac=function(n){return new(n||e)},e.ɵcmp=p.Xpm({type:e,selectors:[["ng-component"]],standalone:!0,exportAs:"ExampleComponent1",features:[p.jDz],decls:11,vars:17,consts:[["tuiInputFiles","",4,"ngIf"],[1,"tui-space_top-1"],["state","error",3,"file","remove",4,"ngIf"],[3,"file","remove",4,"ngIf"],["state","loading",3,"file","remove",4,"ngIf"],["tuiInputFiles",""],["accept","image/*","tuiInputFiles","",3,"formControl"],["state","error",3,"file","remove"],[3,"file","remove"],["state","loading",3,"file","remove"]],template:function(e,n){1&e&&(p.YNc(0,d,2,1,"label",0),p.TgZ(1,"tui-files",1),p.YNc(2,m,1,1,"tui-file",2),p.ALo(3,"async"),p.ALo(4,"tuiFileRejected"),p.YNc(5,F,1,1,"tui-file",3),p.ALo(6,"async"),p.YNc(7,g,1,1,"tui-file",2),p.ALo(8,"async"),p.YNc(9,v,1,1,"tui-file",4),p.ALo(10,"async"),p.qZA()),2&e&&(p.Q6J("ngIf",!n.control.value),p.xp6(2),p.Q6J("ngIf",p.lcZ(3,5,p.xi3(4,7,n.control.value,p.DdM(16,x)))),p.xp6(3),p.Q6J("ngIf",p.lcZ(6,10,n.loadedFiles$)),p.xp6(2),p.Q6J("ngIf",p.lcZ(8,12,n.failedFiles$)),p.xp6(2),p.Q6J("ngIf",p.lcZ(10,14,n.loadingFiles$)))},dependencies:[t.O5,l.TuiInputFilesComponent,o.UX,o.Fj,o.JJ,o.oH,l.TuiInputFilesDirective,l.TuiFilesComponent,l.TuiFileComponent,l.TuiFileRejectedPipe,t.Ov],encapsulation:2,changeDetection:0}),n})()}}]);