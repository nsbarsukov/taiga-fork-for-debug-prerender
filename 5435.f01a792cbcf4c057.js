"use strict";(self.webpackChunkdemo=self.webpackChunkdemo||[]).push([[5435],{5435:(Ye,R,u)=>{u.r(R),u.d(R,{TUI_ALWAYS_DASHED:()=>j,TUI_ALWAYS_DOTTED:()=>At,TUI_ALWAYS_NONE:()=>Dt,TUI_ALWAYS_SOLID:()=>X,TUI_LINE_CHART_DEFAULT_OPTIONS:()=>B,TUI_LINE_CHART_OPTIONS:()=>Y,TuiArcChartComponent:()=>mt,TuiAxesComponent:()=>Nt,TuiBarChartComponent:()=>N,TuiBarComponent:()=>A,TuiBarSetComponent:()=>D,TuiLegendItemComponent:()=>qt,TuiLineChartComponent:()=>m,TuiLineChartHintDirective:()=>I,TuiLineDaysChartComponent:()=>L,TuiLineDaysChartHintDirective:()=>$,TuiPieChartComponent:()=>S,TuiPieChartDirective:()=>nt,TuiRingChartComponent:()=>De,tuiLineChartDrivers:()=>Z,tuiLineChartOptionsProvider:()=>ce});var t=u(35548),C=u(54795),ot=u(23362),a=u(37399),Q=u(19403),_=u(51160),st=u(20982),z=u(275),E=u(905),rt=u(64870),at=u(84439);const ct=["arc"];function lt(o,e){if(1&o&&(t.O4$(),t.TgZ(0,"svg",4),t._UZ(1,"path",5)(2,"path",6,7),t.qZA()),2&o){const n=e.$implicit,i=t.oxw();t.Udp("height",i.getDiameter(n),"em")("left",i.getInset(n),"em")("top",i.getInset(n),"em")("width",i.getDiameter(n),"em"),t.xp6(2),t.Udp("stroke",i.getColor(n))("stroke-dasharray",i.getLength(n),"em")("stroke-dashoffset",i.initialized?i.getOffset(n):i.getLength(n),"em"),t.ekj("t-value_inactive",i.isInactive(n))}}const ut=["*"],J={m:9,l:11,xl:16},dt={m:.25,l:.375,xl:.5625},gt={m:.125,l:.1875,xl:.25};let mt=(()=>{var o;class e{constructor(){this.sanitizer=(0,t.f3M)(ot.H7),this.arcs$=new st.t(1),this.initialized=!1,this.value=[],this.size="m",this.max=100,this.minLabel="0%",this.maxLabel="100%",this.activeItemIndex=NaN,this.activeItemIndexChange=this.arcs$.pipe((0,z.w)(i=>i.changes.pipe((0,E.O)(null),(0,z.w)(()=>(0,Q.T)(...function pt(o){return o.map(({nativeElement:e},n)=>(0,Q.T)((0,a.tuiTypedFromEvent)(e,"mouseenter").pipe((0,_.U)(()=>n)),(0,a.tuiTypedFromEvent)(e,"mouseleave").pipe((0,_.U)(()=>NaN))))}(i))))),(0,rt.b)(i=>{this.activeItemIndex=i})),(0,at.H)(0).pipe((0,a.tuiWatch)((0,t.f3M)(t.sBO)),(0,C.sL)()).subscribe(()=>{this.initialized=!0})}set arcs(i){this.arcs$.next(i)}get width(){return J[this.size]}get strokeWidth(){return dt[this.size]}isInactive(i){return!Number.isNaN(this.activeItemIndex)&&i!==this.activeItemIndex}getInset(i){return this.strokeWidth/2+i*(this.strokeWidth+gt[this.size])}getDiameter(i){return J[this.size]-2*this.getInset(i)}getLength(i){return Math.PI*this.getDiameter(i)*.76}getOffset(i){return this.getLength(i)*(1-Math.min(this.value[i]/this.max,1))}getColor(i){return this.sanitizer.bypassSecurityTrustStyle(`var(--tui-chart-${i}, var(--tui-support-0${i+1}))`)}}return(o=e).\u0275fac=function(i){return new(i||o)},o.\u0275cmp=t.Xpm({type:o,selectors:[["tui-arc-chart"]],viewQuery:function(i,s){if(1&i&&t.Gf(ct,5),2&i){let r;t.iGM(r=t.CRH())&&(s.arcs=r)}},hostVars:7,hostBindings:function(i,s){2&i&&(t.uIk("data-size",s.size),t.Udp("width",s.width,"rem")("height",s.width,"rem")("stroke-width",s.strokeWidth,"rem"))},inputs:{value:"value",size:"size",max:"max",minLabel:"minLabel",maxLabel:"maxLabel",activeItemIndex:"activeItemIndex"},outputs:{activeItemIndexChange:"activeItemIndexChange"},standalone:!0,features:[t.jDz],ngContentSelectors:ut,decls:9,vars:3,consts:[["focusable","false","viewBox","-100 -100 200 200","xmlns","http://www.w3.org/2000/svg","class","t-svg",3,"height","left","top","width",4,"tuiRepeatTimes","tuiRepeatTimesOf"],[1,"t-content"],[1,"t-wrapper"],[1,"t-percent"],["focusable","false","viewBox","-100 -100 200 200","xmlns","http://www.w3.org/2000/svg",1,"t-svg"],["d","M -70 70 A 100 100 0 1 1 70 70","vector-effect","non-scaling-stroke"],["d","M -70 70 A 100 100 0 1 1 70 70","vector-effect","non-scaling-stroke",1,"t-value"],["arc",""]],template:function(i,s){1&i&&(t.F$t(),t.YNc(0,lt,4,16,"svg",0),t.TgZ(1,"div",1)(2,"div",2),t.Hsn(3),t.qZA()(),t.TgZ(4,"div",3)(5,"span"),t._uU(6),t.qZA(),t.TgZ(7,"span"),t._uU(8),t.qZA()()),2&i&&(t.Q6J("tuiRepeatTimesOf",s.value.length),t.xp6(6),t.Oqu(s.minLabel),t.xp6(2),t.Oqu(s.maxLabel))},dependencies:[a.TuiRepeatTimesDirective],styles:["[_nghost-%COMP%]{position:relative;display:block;flex-shrink:0}.t-svg[_ngcontent-%COMP%]{position:absolute;top:0;left:0;bottom:0;right:0;overflow:visible;fill:none;stroke:currentColor;stroke-linecap:round;color:var(--tui-secondary);font-size:1rem;pointer-events:none}.t-value[_ngcontent-%COMP%]{pointer-events:auto;transition:stroke-dashoffset var(--tui-duration) ease-in-out,opacity var(--tui-duration) ease-in-out .1s}.t-value_inactive[_ngcontent-%COMP%]{transition-property:stroke-dashoffset,opacity;transition-duration:var(--tui-duration, .3s);transition-timing-function:ease-in-out;opacity:.16}.t-content[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:100%;height:100%;display:flex;justify-content:center;align-items:center;text-align:center;color:var(--tui-text-02);font:var(--tui-font-text-xs);pointer-events:none}[data-size=xl][_nghost-%COMP%]   .t-content[_ngcontent-%COMP%]{font:var(--tui-font-text-m)}.t-wrapper[_ngcontent-%COMP%]{pointer-events:auto}.t-wrapper[_ngcontent-%COMP%]:first-line{color:var(--tui-text-01)}[data-size=m][_nghost-%COMP%]   .t-wrapper[_ngcontent-%COMP%]:first-line{font:var(--tui-font-text-s);font-weight:700}[data-size=l][_nghost-%COMP%]   .t-wrapper[_ngcontent-%COMP%]:first-line{font:var(--tui-font-text-m);font-weight:700}[data-size=xl][_nghost-%COMP%]   .t-wrapper[_ngcontent-%COMP%]:first-line{font:var(--tui-font-heading-5)}.t-percent[_ngcontent-%COMP%]{position:absolute;left:25%;bottom:11%;display:flex;width:50%;justify-content:space-between;font:var(--tui-font-text-xs);color:var(--tui-text-02)}[data-size=xl][_nghost-%COMP%]   .t-percent[_ngcontent-%COMP%]{font:var(--tui-font-text-m)}"],changeDetection:0}),e})();var g=u(4594);function _t(o,e){if(1&o&&(t.TgZ(0,"div",14),t._uU(1),t.qZA()),2&o){const n=t.oxw(2);t.xp6(1),t.hij(" ",n.axisYName," ")}}function ft(o,e){if(1&o&&(t.TgZ(0,"div",17),t._uU(1),t.qZA()),2&o){const n=e.$implicit,i=t.oxw(3);t.xp6(1),t.hij(" ",i.fallback(n)," ")}}function xt(o,e){if(1&o&&(t.TgZ(0,"div",15),t.YNc(1,ft,2,1,"div",16),t.qZA()),2&o){const n=t.oxw(2);t.xp6(1),t.Q6J("ngForOf",n.axisYLabels)}}function vt(o,e){if(1&o&&(t.TgZ(0,"div",11),t.YNc(1,_t,2,1,"div",12),t.YNc(2,xt,2,1,"div",13),t.qZA()),2&o){const n=t.oxw();t.ekj("t-side_padding",n.hasXLabels),t.xp6(1),t.Q6J("ngIf",n.axisYName),t.xp6(1),t.Q6J("ngIf",!n.axisYInset)}}function Ct(o,e){if(1&o&&t._UZ(0,"div",18),2&o){const n=e.$implicit,i=t.oxw();t.Udp("border-right-style",i.verticalLinesHandler(n,i.verticalLines))}}function yt(o,e){if(1&o&&t._UZ(0,"div",19),2&o){const n=e.$implicit,i=t.oxw();t.Udp("border-top-style",i.horizontalLinesHandler(n,i.horizontalLines))}}function Tt(o,e){if(1&o&&(t.TgZ(0,"div",17),t._uU(1),t.qZA()),2&o){const n=e.$implicit,i=t.oxw(2);t.xp6(1),t.hij(" ",i.fallback(n)," ")}}function bt(o,e){if(1&o&&(t.TgZ(0,"div",20),t.YNc(1,Tt,2,1,"div",16),t.qZA()),2&o){const n=t.oxw();t.xp6(1),t.Q6J("ngForOf",n.axisYLabels)}}function Ot(o,e){if(1&o&&(t.TgZ(0,"div",23),t._uU(1),t.qZA()),2&o){const n=e.$implicit,i=t.oxw(2);t.xp6(1),t.hij(" ",i.fallback(n)," ")}}function Mt(o,e){if(1&o&&(t.TgZ(0,"div",21),t.YNc(1,Ot,2,1,"div",22),t.qZA()),2&o){const n=t.oxw();t.xp6(1),t.Q6J("ngForOf",n.axisYSecondaryLabels)}}function It(o,e){if(1&o&&(t.TgZ(0,"div",26),t._uU(1),t.qZA()),2&o){const n=e.$implicit,i=t.oxw(2);t.ekj("t-label-x_transparent",null===n),t.xp6(1),t.hij(" ",i.fallback(n)," ")}}function Pt(o,e){if(1&o&&(t.TgZ(0,"div",24),t.YNc(1,It,2,3,"div",25),t.qZA()),2&o){const n=t.oxw();t.xp6(1),t.Q6J("ngForOf",n.axisXLabels)}}function wt(o,e){if(1&o&&(t.TgZ(0,"div",23),t._uU(1),t.qZA()),2&o){const n=e.$implicit,i=t.oxw(3);t.xp6(1),t.hij(" ",i.fallback(n)," ")}}function Lt(o,e){if(1&o&&(t.TgZ(0,"div",29),t.YNc(1,wt,2,1,"div",22),t.qZA()),2&o){const n=t.oxw(2);t.xp6(1),t.Q6J("ngForOf",n.axisYSecondaryLabels)}}function Ht(o,e){if(1&o&&(t.TgZ(0,"div",30),t._uU(1),t.qZA()),2&o){const n=t.oxw(2);t.xp6(1),t.hij(" ",n.axisYSecondaryName," ")}}function St(o,e){if(1&o&&(t.TgZ(0,"div",11),t.YNc(1,Lt,2,1,"div",27),t.YNc(2,Ht,2,1,"div",28),t.qZA()),2&o){const n=t.oxw();t.ekj("t-side_padding",n.hasXLabels),t.xp6(1),t.Q6J("ngIf",!n.axisYSecondaryInset),t.xp6(1),t.Q6J("ngIf",n.axisYSecondaryName)}}const zt=["*"],j=()=>"dashed",At=()=>"dotted",X=()=>"solid",Dt=()=>"none";let Nt=(()=>{var o;class e{constructor(){this.axisX="solid",this.axisXLabels=[],this.axisY="solid",this.axisYInset=!1,this.axisYLabels=[],this.axisYName="",this.axisYSecondaryInset=!1,this.axisYSecondaryLabels=[],this.axisYSecondaryName="",this.horizontalLines=0,this.horizontalLinesHandler=X,this.verticalLines=0,this.verticalLinesHandler=j}get hasXLabels(){return!!this.axisXLabels.length}get hasYLabels(){return!!this.axisYLabels.length&&!this.axisYInset||!!this.axisYName}get hasYSecondaryLabels(){return!!this.axisYSecondaryLabels.length&&!this.axisYSecondaryInset||!!this.axisYSecondaryName}fallback(i){return i||a.CHAR_NO_BREAK_SPACE}get centeredXLabels(){return"none"===this.axisY}}return(o=e).\u0275fac=function(i){return new(i||o)},o.\u0275cmp=t.Xpm({type:o,selectors:[["tui-axes"]],hostVars:2,hostBindings:function(i,s){2&i&&t.ekj("_centered",s.centeredXLabels)},inputs:{axisX:"axisX",axisXLabels:"axisXLabels",axisY:"axisY",axisYInset:"axisYInset",axisYLabels:"axisYLabels",axisYName:"axisYName",axisYSecondaryInset:"axisYSecondaryInset",axisYSecondaryLabels:"axisYSecondaryLabels",axisYSecondaryName:"axisYSecondaryName",horizontalLines:"horizontalLines",horizontalLinesHandler:"horizontalLinesHandler",verticalLines:"verticalLines",verticalLinesHandler:"verticalLinesHandler"},standalone:!0,features:[t.jDz],ngContentSelectors:zt,decls:13,vars:11,consts:[["class","t-side",3,"t-side_padding",4,"ngIf"],[1,"t-wrapper"],[1,"t-grid"],[1,"t-vertical"],["automation-id","tui-axex__vertical-line","class","t-line t-line_vertical",3,"borderRightStyle",4,"tuiRepeatTimes","tuiRepeatTimesOf"],[1,"t-horizontal"],["automation-id","tui-axex__horizontal-line","class","t-line",3,"borderTopStyle",4,"tuiRepeatTimes","tuiRepeatTimesOf"],["class","t-labels-y t-labels-y_inset",4,"ngIf"],["class","t-labels-y t-labels-y_inset t-labels-y_inset_secondary",4,"ngIf"],[1,"t-content"],["class","t-labels-x",4,"ngIf"],[1,"t-side"],["automation-id","tui-axex__axis-y-name","class","t-name t-name_primary",4,"ngIf"],["class","t-labels-y t-labels-y_primary",4,"ngIf"],["automation-id","tui-axex__axis-y-name",1,"t-name","t-name_primary"],[1,"t-labels-y","t-labels-y_primary"],["automation-id","tui-axex__axis-y-label","class","t-label-y",4,"ngFor","ngForOf"],["automation-id","tui-axex__axis-y-label",1,"t-label-y"],["automation-id","tui-axex__vertical-line",1,"t-line","t-line_vertical"],["automation-id","tui-axex__horizontal-line",1,"t-line"],[1,"t-labels-y","t-labels-y_inset"],[1,"t-labels-y","t-labels-y_inset","t-labels-y_inset_secondary"],["automation-id","tui-axex__axis-y-secondary-label","class","t-label-y",4,"ngFor","ngForOf"],["automation-id","tui-axex__axis-y-secondary-label",1,"t-label-y"],[1,"t-labels-x"],["automation-id","tui-axex__axis-x-label","class","t-label-x",3,"t-label-x_transparent",4,"ngFor","ngForOf"],["automation-id","tui-axex__axis-x-label",1,"t-label-x"],["class","t-labels-y t-labels-y_secondary",4,"ngIf"],["automation-id","tui-axex__axis-y-secondary-name","class","t-name",4,"ngIf"],[1,"t-labels-y","t-labels-y_secondary"],["automation-id","tui-axex__axis-y-secondary-name",1,"t-name"]],template:function(i,s){1&i&&(t.F$t(),t.YNc(0,vt,3,4,"div",0),t.TgZ(1,"div",1)(2,"div",2)(3,"div",3),t.YNc(4,Ct,1,2,"div",4),t.qZA(),t.TgZ(5,"div",5),t.YNc(6,yt,1,2,"div",6),t.qZA(),t.YNc(7,bt,2,1,"div",7),t.YNc(8,Mt,2,1,"div",8),t.TgZ(9,"div",9),t.Hsn(10),t.qZA()(),t.YNc(11,Pt,2,1,"div",10),t.qZA(),t.YNc(12,St,3,4,"div",0)),2&i&&(t.Q6J("ngIf",s.hasYLabels),t.xp6(2),t.Udp("border-bottom-style",s.axisX)("border-left-style",s.axisY),t.xp6(2),t.Q6J("tuiRepeatTimesOf",s.verticalLines),t.xp6(2),t.Q6J("tuiRepeatTimesOf",s.horizontalLines),t.xp6(1),t.Q6J("ngIf",s.axisYInset),t.xp6(1),t.Q6J("ngIf",s.axisYSecondaryInset),t.xp6(3),t.Q6J("ngIf",s.hasXLabels),t.xp6(1),t.Q6J("ngIf",s.hasYSecondaryLabels))},dependencies:[g.O5,g.sg,a.TuiRepeatTimesDirective],styles:['[_nghost-%COMP%]{display:flex}.t-wrapper[_ngcontent-%COMP%]{display:flex;flex:1;height:100%;flex-direction:column}.t-grid[_ngcontent-%COMP%]{position:relative;display:flex;flex:1;justify-content:space-around;align-items:flex-end;border-width:1px;border-color:var(--tui-base-03);isolation:isolate}.t-horizontal[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:100%;height:100%;display:flex;flex-direction:column}.t-vertical[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:100%;height:100%;display:flex}._centered[_nghost-%COMP%]   .t-vertical[_ngcontent-%COMP%]:after{content:"";display:block;flex:1 0 1px}.t-line[_ngcontent-%COMP%]{flex:2 0 1px;box-sizing:border-box;border-width:1px;border-color:var(--tui-base-03)}._centered[_nghost-%COMP%]   .t-line_vertical[_ngcontent-%COMP%]:first-child{flex:1 0 1px;pointer-events:none}.t-side[_ngcontent-%COMP%]{display:flex;align-items:stretch}.t-side_padding[_ngcontent-%COMP%]{padding-bottom:2rem}.t-name[_ngcontent-%COMP%]{font:var(--tui-font-text-xs);writing-mode:tb;text-align:center;padding-left:.75rem;color:var(--tui-text-02)}.t-name_primary[_ngcontent-%COMP%]{transform:rotate(180deg)}.t-labels-y[_ngcontent-%COMP%]{display:flex;font:var(--tui-font-text-xs);flex-direction:column-reverse;justify-content:space-between;color:var(--tui-text-02)}.t-labels-y_primary[_ngcontent-%COMP%]{text-align:right;padding-right:.75rem}.t-labels-y_secondary[_ngcontent-%COMP%]{padding-left:.75rem}.t-labels-y_transparent[_ngcontent-%COMP%]{border-color:transparent}.t-labels-y_inset[_ngcontent-%COMP%]{position:absolute;top:.5625rem;left:.25rem;bottom:-.75rem;pointer-events:none}.t-labels-y_inset_secondary[_ngcontent-%COMP%]{left:auto;right:.25rem;text-align:right}.t-labels-x[_ngcontent-%COMP%]{display:flex;font:var(--tui-font-text-xs);border-right:1px solid transparent;color:var(--tui-text-02)}.t-label-x[_ngcontent-%COMP%]{height:.4375rem;border-left:1px solid var(--tui-base-03);flex:1;margin-bottom:1.5625rem}.t-label-x[_ngcontent-%COMP%]:before{content:"";display:block;height:.5625rem}.t-label-x_transparent[_ngcontent-%COMP%]{border-color:transparent}._centered[_nghost-%COMP%]   .t-label-x[_ngcontent-%COMP%]{height:2rem;text-align:center;border:none;margin:0}[new][_nghost-%COMP%]:not(._centered)   .t-label-x[_ngcontent-%COMP%]:last-child:not(:first-child){flex:.5;text-align:right;border-left:none}[new][_nghost-%COMP%]:not(._centered)   .t-label-x[_ngcontent-%COMP%]:nth-last-child(2){flex:.5}.t-label-y[_ngcontent-%COMP%]:first-child{margin-bottom:-.375rem}.t-label-y[_ngcontent-%COMP%]:last-child{margin-top:-.375rem}.t-content[_ngcontent-%COMP%]{position:absolute;top:0;left:-1px;right:0;bottom:-1px;display:flex;align-items:flex-end}'],changeDetection:0}),e})();var y,T,p=u(84911);function Yt(o,e){if(1&o&&t._UZ(0,"div",1),2&o){const n=e.$implicit,i=e.index,s=t.oxw();t.Udp("background",s.getColor(i))("height",s.getHeight(n),"%")}}class A{constructor(){this.value=[],this.size="m"}getHeight(e){return 100*e/this.getSum(this.value)}getColor(e){return`var(--tui-chart-${e})`}getSum(e){return(0,a.tuiSum)(...e)}}(y=A).\u0275fac=function(e){return new(e||y)},y.\u0275cmp=t.Xpm({type:y,selectors:[["tui-bar"]],hostVars:1,hostBindings:function(e,n){2&e&&t.uIk("data-size",n.size)},inputs:{value:"value",size:"size"},standalone:!0,features:[t.jDz],decls:1,vars:1,consts:[["automation-id","tui-bar__bar",3,"background","height",4,"ngFor","ngForOf"],["automation-id","tui-bar__bar"]],template:function(e,n){1&e&&t.YNc(0,Yt,1,4,"div",0),2&e&&t.Q6J("ngForOf",n.value)},dependencies:[g.sg],styles:["[_nghost-%COMP%]{display:flex;min-width:.125rem;flex-direction:column-reverse;border-top-left-radius:var(--tui-radius-l);border-top-right-radius:var(--tui-radius-l);overflow:hidden}[data-size=l][_nghost-%COMP%]{width:1rem;max-width:1rem;margin:0 .1875rem}[data-size=m][_nghost-%COMP%]{width:.5rem;max-width:.5rem;margin:0 .1875rem}[data-size=s][_nghost-%COMP%]{width:.25rem;max-width:.5rem;margin:0 .125rem}"],changeDetection:0}),(0,p.gn)([a.tuiPure],A.prototype,"getSum",null);const Zt=function(o,e){return{$implicit:o,index:e,flexible:!1}};function $t(o,e){if(1&o&&t.GkF(0,5),2&o){const n=e.$implicit,i=e.index;t.oxw(2);const s=t.MAs(4);t.Q6J("ngTemplateOutlet",s)("ngTemplateOutletContext",t.WLB(2,Zt,n,i))}}function kt(o,e){if(1&o&&(t.ynx(0),t.YNc(1,$t,1,5,"ng-container",4),t.BQk()),2&o){const n=t.oxw();t.xp6(1),t.Q6J("ngForOf",n.computedValue)}}const Bt=function(o,e){return{$implicit:o,index:e,flexible:!0}};function Ut(o,e){if(1&o&&(t.TgZ(0,"div",7),t.GkF(1,5),t.qZA()),2&o){const n=e.$implicit,i=e.index;t.oxw(2);const s=t.MAs(4);t.xp6(1),t.Q6J("ngTemplateOutlet",s)("ngTemplateOutletContext",t.WLB(2,Bt,n,i))}}function Ft(o,e){if(1&o&&t.YNc(0,Ut,2,5,"div",6),2&o){const n=t.oxw();t.Q6J("ngForOf",n.computedValue)}}function Rt(o,e){if(1&o&&t._UZ(0,"tui-bar",8),2&o){const n=e.flexible,i=e.index,s=e.$implicit,r=t.oxw();t.Udp("background",r.getColor(i))("height",r.getHeight(s),"%"),t.ekj("t-bar_flexible",n)("t-bar_negative",s<0),t.Q6J("size",r.computedSize)("value",r.computedSegments)}}const Jt=[],jt=[1];class D{constructor(){this.value=[],this.size="m",this.collapsed=!1}get computedValue(){return this.collapsed?jt:this.value}get computedSegments(){return this.collapsed?this.value:Jt}get computedSize(){return this.size||"m"}getHeight(e){return Math.abs(100*e/this.getLargest(this.computedValue))}getColor(e){return`var(--tui-chart-${e})`}getLargest(e){return e.some(n=>n>0)?e.reduce((n,i)=>n>i?n:i,0):Math.abs(e.reduce((n,i)=>n<i?n:i,0))}}(T=D).\u0275fac=function(e){return new(e||T)},T.\u0275cmp=t.Xpm({type:T,selectors:[["tui-bar-set"]],inputs:{value:"value",size:"size",collapsed:"collapsed"},standalone:!0,features:[t.jDz],ngContentSelectors:["*"],decls:7,vars:2,consts:[[4,"ngIf","ngIfElse"],["flexible",""],["bar",""],[1,"t-label"],[3,"ngTemplateOutlet","ngTemplateOutletContext",4,"ngFor","ngForOf"],[3,"ngTemplateOutlet","ngTemplateOutletContext"],["class","t-wrapper",4,"ngFor","ngForOf"],[1,"t-wrapper"],["automation-id","tui-bar-set__bar",1,"t-bar",3,"size","value"]],template:function(e,n){if(1&e&&(t.F$t(),t.YNc(0,kt,2,1,"ng-container",0),t.YNc(1,Ft,1,1,"ng-template",null,1,t.W1O),t.YNc(3,Rt,1,10,"ng-template",null,2,t.W1O),t.TgZ(5,"span",3),t.Hsn(6),t.qZA()),2&e){const i=t.MAs(2);t.Q6J("ngIf",n.size)("ngIfElse",i)}},dependencies:[g.O5,g.sg,g.tP,A],styles:["[_nghost-%COMP%]{position:relative;display:flex;height:100%;align-items:flex-end;justify-content:center}.t-wrapper[_ngcontent-%COMP%]{display:flex;flex:1;height:100%;align-items:flex-end}.t-wrapper[_ngcontent-%COMP%]:first-of-type{margin-left:25%}.t-wrapper[_ngcontent-%COMP%]:last-of-type{margin-right:25%}.t-bar[_ngcontent-%COMP%]{transform-origin:bottom center}.t-bar_negative[_ngcontent-%COMP%]{transform:rotate(180deg);opacity:var(--tui-disabled-opacity)}.t-bar.t-bar_flexible[_ngcontent-%COMP%]{max-width:none;width:75%;margin:0 auto}.t-label[_ngcontent-%COMP%]{position:absolute;top:-1.5rem;font:var(--tui-font-text-xs);color:var(--tui-text-02)}"],changeDetection:0}),(0,p.gn)([a.tuiPure],D.prototype,"getLargest",null);var b,h=u(69104),k=u(78347),W=u(20486),G=u(89061);const Xt=function(o){return{$implicit:o}};function Wt(o,e){if(1&o&&(t.TgZ(0,"div",1),t.NdJ("mouseenter.once",function(){return 0}),t.ALo(1,"async"),t.TgZ(2,"div",2),t.ALo(3,"tuiMapper"),t._UZ(4,"div",3,4)(6,"tui-bar-set",5),t.qZA()()),2&o){const n=e.$implicit,i=e.index,s=t.MAs(5),r=t.oxw();t.ekj("t-wrapper_hoverable",!!r.hintContent)("t-wrapper_hovered",t.lcZ(1,15,r.drivers.get(i))),t.Q6J("tuiHint",r.hintContent)("tuiHintContext",t.VKq(22,Xt,i))("tuiHintDescribe",r.getHintId(i))("tuiHintHost",s),t.xp6(2),t.Udp("height",t.gM2(3,17,n,r.percentMapper,r.collapsed,r.computedMax),"%"),t.xp6(4),t.Q6J("collapsed",r.collapsed)("id",r.getHintId(i))("size",r.size)("tabIndex",r.hintContent?0:-1)("value",n)}}class N{constructor(){this.hintOptions=(0,t.f3M)(h.TuiHintOptionsDirective,{optional:!0}),this.autoIdString=(0,t.f3M)(a.TuiIdService).generate(),this.drivers=a.EMPTY_QUERY,this.value=[],this.max=NaN,this.size="m",this.collapsed=!1,this.percentMapper=(e,n,i)=>100*(n?(0,a.tuiSum)(...e):Math.max(...e))/i}get transposed(){return this.transpose(this.value)}get computedMax(){return this.max||this.getMax(this.value,this.collapsed)}get hintContent(){var e;return(null==(e=this.hintOptions)?void 0:e.content)||""}getHintId(e){return`${this.autoIdString}_${e}`}transpose(e){return e.reduce((n,i)=>i.map((s,r)=>[...n[r]||[],i[r]]),[])}getMax(e,n){return n?Math.max(...e.reduce((i,s)=>i.map((r,l)=>r+s[l]))):e.reduce((i,s)=>Math.max(...s,i),0)}}(b=N).\u0275fac=function(e){return new(e||b)},b.\u0275cmp=t.Xpm({type:b,selectors:[["tui-bar-chart"]],viewQuery:function(e,n){if(1&e&&t.Gf(h.TuiHintHoverDirective,5),2&e){let i;t.iGM(i=t.CRH())&&(n.drivers=i)}},inputs:{value:"value",max:"max",size:"size",collapsed:"collapsed"},standalone:!0,features:[t._Bn([],[(0,h.tuiHintOptionsProvider)({direction:"top"})]),t.jDz],decls:1,vars:1,consts:[["class","t-wrapper",3,"t-wrapper_hoverable","t-wrapper_hovered","tuiHint","tuiHintContext","tuiHintDescribe","tuiHintHost","mouseenter.once",4,"ngFor","ngForOf"],[1,"t-wrapper",3,"tuiHint","tuiHintContext","tuiHintDescribe","tuiHintHost","mouseenter.once"],[1,"t-container"],[1,"t-host"],["hintHost",""],[1,"t-set",3,"collapsed","id","size","tabIndex","value"]],template:function(e,n){1&e&&t.YNc(0,Wt,7,24,"div",0),2&e&&t.Q6J("ngForOf",n.transposed)},dependencies:[g.sg,h.TuiHint,k.D,W.$,G.X,a.TuiMapperPipe,g.Ov,D],styles:["[_nghost-%COMP%]{display:flex;flex:1;height:100%}.t-wrapper[_ngcontent-%COMP%]{transition-property:background-color;transition-duration:var(--tui-duration, .3s);transition-timing-function:ease-in-out;position:relative;display:flex;flex:1;align-items:flex-end;justify-content:center;height:100%}.t-wrapper_hoverable[_ngcontent-%COMP%]{cursor:pointer}.t-wrapper_hoverable[_ngcontent-%COMP%]:hover, .t-wrapper_hoverable.t-wrapper_hovered[_ngcontent-%COMP%]{background-color:#0000000d}.t-container[_ngcontent-%COMP%]{flex:1}.t-host[_ngcontent-%COMP%]{position:absolute;left:50%;right:50%}.t-set[_ngcontent-%COMP%]{border-radius:var(--tui-radius-m);pointer-events:none;outline:none}.t-set[_ngcontent-%COMP%]:focus{box-shadow:0 0 0 2px var(--tui-focus)}"],changeDetection:0}),(0,p.gn)([a.tuiPure],N.prototype,"transpose",null),(0,p.gn)([a.tuiPure],N.prototype,"getMax",null);const Gt=[[["","tuiCheckbox",""]],"*"],Vt=["[tuiCheckbox]","*"];let qt=(()=>{var o;class e{constructor(){this.active=!1,this.color="",this.text="",this.size="m",this.disabled=!1}get computedColor(){return"var(--tui-primary)"===this.color?null:this.color}}return(o=e).\u0275fac=function(i){return new(i||o)},o.\u0275cmp=t.Xpm({type:o,selectors:[["tui-legend-item"]],hostVars:5,hostBindings:function(i,s){2&i&&(t.uIk("data-size",s.size),t.Udp("--tui-primary",s.computedColor),t.ekj("_disabled",s.disabled))},inputs:{active:"active",color:"color",text:"text",size:"size",disabled:"disabled"},standalone:!0,features:[t.jDz],ngContentSelectors:Vt,decls:7,vars:4,consts:[["appearance","whiteblock","size","s","tuiButton","","type","button",1,"t-button",3,"tuiAppearanceState"],[1,"t-wrapper"],[1,"t-dot"],[1,"t-text"]],template:function(i,s){1&i&&(t.F$t(Gt),t.TgZ(0,"button",0)(1,"div",1),t.Hsn(2),t._UZ(3,"span",2),t.TgZ(4,"span",3),t._uU(5),t.qZA(),t.Hsn(6,1),t.qZA()()),2&i&&(t.Q6J("tuiAppearanceState",s.active?"hover":null),t.xp6(3),t.Udp("background-color",s.color||"var(--tui-primary)"),t.xp6(2),t.Oqu(s.text))},dependencies:[h.TuiButtonDirective],styles:["[_nghost-%COMP%]{display:inline-block}.t-button[_ngcontent-%COMP%]{height:2rem;font-weight:700}[data-size=m][_nghost-%COMP%]   .t-button[_ngcontent-%COMP%]{height:2.25rem;font:var(--tui-font-text-m);font-weight:700}.t-wrapper[_ngcontent-%COMP%]{display:flex;align-items:center;pointer-events:none}._disabled[_nghost-%COMP%]   .t-wrapper[_ngcontent-%COMP%]{color:var(--tui-text-03)}.t-dot[_ngcontent-%COMP%]{width:.5rem;height:.5rem;border-radius:100%;flex-shrink:0}._disabled[_nghost-%COMP%]   .t-dot[_ngcontent-%COMP%]{background:var(--tui-base-04)}.t-dot[_ngcontent-%COMP%]:not(:first-child){display:none}.t-text[_ngcontent-%COMP%]{margin:0 .5rem;font-weight:400}"],changeDetection:0}),e})();function V(o,e,n,i=!1,s=.2){const r=e||o,l=n||o,c=function ee(o,e){return Math.atan2(e[1]-o[1],e[0]-o[0])}(r,l)+(i?Math.PI:0),d=function ne(o,e){return Math.sqrt((e[0]-o[0])**2+(e[1]-o[1])**2)}(r,l)*s;return[o[0]+Math.cos(c)*d,o[1]+Math.sin(c)*d]}var ae=u(13448),q=u(24815);const B={dots:!1,filled:!1,smoothingFactor:0},Y=(0,a.tuiCreateToken)(B);function ce(o){return(0,a.tuiProvideOptions)(Y,o,B)}var M,P,O=u(29963),U=u(13591);class I{constructor(){this.charts=a.EMPTY_QUERY,this.chartsRef=a.EMPTY_QUERY,this.renderer=(0,t.f3M)(t.Qsj),this.destroyRef=(0,t.f3M)(t.ktI),this.zone=(0,t.f3M)(t.R0b),this.hovered$=(0,t.f3M)(a.TuiHoveredService)}ngAfterViewInit(){(0,O.a)([Z(this.charts),this.hovered$]).pipe((0,U.h)(e=>!e.some(Boolean)),(0,a.tuiZonefree)(this.zone),(0,C.sL)(this.destroyRef)).subscribe(()=>{this.charts.forEach(e=>e.onHovered(NaN))})}getContext(e,n){return this.computeContext(...this.charts.map(({value:i})=>i))[e]}raise(e,n){const i=this.charts.map(r=>r.value[e]),s=[...i].sort((r,l)=>r[1]-l[1]);this.charts.forEach(r=>r.onHovered(e)),this.chartsRef.forEach(({nativeElement:r},l)=>this.renderer.setStyle(r,"z-index",s.indexOf(i[l])))}computeContext(...e){return(e[0]||[]).map((n,i)=>e.map(s=>s[i]))}}function Z(o){return(0,O.a)(o.map(({drivers:e})=>(0,a.tuiQueryListChanges)(e).pipe((0,_.U)(n=>n.map(i=>i.pipe((0,E.O)(!1))))))).pipe((0,_.U)(e=>e.reduce((n,i)=>n.concat(i),[])),(0,z.w)(e=>(0,O.a)(e)),(0,_.U)(e=>e.some(Boolean)),(0,q.x)())}function le(o,e){if(1&o&&t._UZ(0,"div",9),2&o){const n=e.$implicit,i=t.oxw(3);t.Udp("bottom",i.getBottom(n[1]),"%")("left",i.getLeft(n[0]),"%")}}function ue(o,e){if(1&o&&(t.O4$(),t.kcU(),t.ynx(0),t.YNc(1,le,1,4,"div",8),t.BQk()),2&o){const n=t.oxw(2);t.xp6(1),t.Q6J("ngForOf",n.value)}}(M=I).\u0275fac=function(e){return new(e||M)},M.\u0275dir=t.lG2({type:M,selectors:[["","tuiLineChartHint",""]],contentQueries:function(e,n,i){if(1&e&&(t.Suo(i,m,4),t.Suo(i,m,4,t.SBq)),2&e){let s;t.iGM(s=t.CRH())&&(n.charts=s),t.iGM(s=t.CRH())&&(n.chartsRef=s)}},inputs:{hint:["tuiLineChartHint","hint"]},standalone:!0,features:[t._Bn([a.TuiHoveredService])]}),(0,p.gn)([a.tuiPure],I.prototype,"computeContext",null);const he=function(o,e){return{$implicit:o,index:e}};function de(o,e){if(1&o){const n=t.EpF();t.TgZ(0,"div",13),t.NdJ("mouseenter",function(){t.CHM(n);const s=t.oxw().index,r=t.oxw(3);return t.KtG(r.onMouseEnter(s))}),t.ALo(1,"async"),t._UZ(2,"div",14)(3,"div",15,16),t.qZA()}if(2&o){const n=t.MAs(4),i=t.oxw(),s=i.index,r=i.$implicit,l=t.oxw(2).tuiLet,c=t.oxw();t.Udp("left",c.getLeft(c.getX(s)),"%")("width",c.getWidth(s),"%"),t.ekj("t-column_hint_hovered",t.lcZ(1,20,c.drivers.get(s)))("t-column_hovered",l===s),t.Q6J("tuiHint",(null==c.hintDirective?null:c.hintDirective.hint)||c.hintContent)("tuiHintContext",t.WLB(22,he,c.getImplicit(r),s))("tuiHintDescribe",c.isFocusable?c.getHintId(s):null)("tuiHintHost",n),t.xp6(2),t.Udp("left",c.getOffset(s),"%"),t.xp6(1),t.Udp("bottom",c.getBottom(r[1]),"%")("left",c.getOffset(s),"%"),t.Q6J("id",c.getHintId(s))("tabIndex",c.isFocusable?0:-1)}}function ge(o,e){if(1&o&&t._UZ(0,"div",17),2&o){const n=t.oxw().$implicit,i=t.oxw(3);t.Udp("bottom",i.getBottom(n[1]),"%")}}function pe(o,e){if(1&o&&(t.ynx(0),t.YNc(1,de,5,25,"div",11),t.YNc(2,ge,1,2,"div",12),t.BQk()),2&o){const n=t.oxw(3);t.xp6(1),t.Q6J("ngIf",n.value.length>1||n.dots),t.xp6(1),t.Q6J("ngIf",n.isFocusable)}}function me(o,e){if(1&o&&(t.O4$(),t.kcU(),t.ynx(0),t.YNc(1,pe,3,2,"ng-container",10),t.BQk()),2&o){const n=t.oxw(2);t.xp6(1),t.Q6J("ngForOf",n.value)}}function _e(o,e){if(1&o&&(t.TgZ(0,"div",20),t._uU(1),t.qZA()),2&o){const n=t.oxw().ngIf,i=t.oxw(2);t.Udp("left",i.getLeft(n[0]),"%"),t.xp6(1),t.hij(" ",i.xStringify(n[0])," ")}}function fe(o,e){if(1&o&&(t.TgZ(0,"div",21),t._uU(1),t.qZA()),2&o){const n=t.oxw().ngIf,i=t.oxw(2);t.Udp("bottom",i.getBottom(n[1]),"%"),t.xp6(1),t.hij(" ",i.yStringify(n[1])," ")}}function xe(o,e){if(1&o&&(t.O4$(),t.kcU(),t.ynx(0),t.YNc(1,_e,2,3,"div",18),t.YNc(2,fe,2,3,"div",19),t.BQk()),2&o){const n=t.oxw(2);t.xp6(1),t.Q6J("ngIf",n.xStringify),t.xp6(1),t.Q6J("ngIf",n.yStringify)}}function ve(o,e){if(1&o&&(t.ynx(0),t.O4$(),t.TgZ(1,"svg",1)(2,"defs")(3,"linearGradient",2),t._UZ(4,"stop",3)(5,"stop",4),t.qZA()(),t._UZ(6,"path",5)(7,"path",6),t.qZA(),t.YNc(8,ue,2,1,"ng-container",7),t.YNc(9,me,2,1,"ng-container",7),t.YNc(10,xe,3,2,"ng-container",7),t.BQk()),2&o){const n=e.tuiLet,i=t.oxw();t.xp6(1),t.uIk("viewBox",i.viewBox),t.xp6(2),t.uIk("id",i.fillId),t.xp6(3),t.uIk("d",i.fillD)("fill",i.fill),t.xp6(1),t.uIk("d",i.d),t.xp6(1),t.Q6J("ngIf",i.dots),t.xp6(1),t.Q6J("ngIf",i.hasHints),t.xp6(1),t.Q6J("ngIf",i.getHovered(n))}}class m{constructor(){this.zone=(0,t.f3M)(t.R0b),this.options=(0,t.f3M)(Y),this.hover$=new ae.x,this.autoIdString=(0,t.f3M)(a.TuiIdService).generate(),this.hintDirective=(0,t.f3M)(I,{optional:!0}),this.hintOptions=(0,t.f3M)(h.TuiHintOptionsDirective,{optional:!0}),this.drivers=a.EMPTY_QUERY,this.x=0,this.y=0,this.width=0,this.height=0,this.smoothingFactor=this.options.smoothingFactor,this.xStringify=null,this.yStringify=null,this.filled=this.options.filled,this.dots=this.options.dots,this.value=[]}set valueSetter(e){this.value=e.filter(n=>!n.some(Number.isNaN))}onHovered(e){this.hover$.next(e)}get hovered$(){return this.hover$.pipe((0,q.x)(),(0,a.tuiZoneOptimized)(this.zone))}get hintContent(){var e;return(null==(e=this.hintOptions)?void 0:e.content)||""}get fillId(){return`tui-line-chart-${this.autoIdString}`}get fill(){return this.filled?`url(#${this.fillId})`:"none"}get viewBox(){return`${this.x} ${this.y} ${this.width} ${this.height}`}get d(){return this.getD(this.value,this.smoothingFactor)}get fillD(){return this.value.length?`${this.d}V ${this.y} H ${this.value[0][0]} V ${this.value[0][1]}`:this.d}get isFocusable(){return!this.hintDirective&&this.hasHints}get hasHints(){var e;return!!(this.xStringify||this.yStringify||null!=(e=this.hintDirective)&&e.hint||this.hintContent)}onMouseLeave(){this.hintDirective||this.onHovered(NaN)}getX(e){return this.isSinglePoint?this.value[0][0]/2:e?(this.value[e-1][0]+this.value[e][0])/2:2*this.value[0][0]-this.getX(1)}getWidth(e){return 100*this.computeWidth(e)/this.width}getHintId(e){return`${this.autoIdString}_${e}`}getImplicit(e){var n;return(null==(n=this.hintDirective)?void 0:n.getContext(this.value.indexOf(e),this))||e}getHovered(e){return(0,a.tuiIsPresent)(e)&&Number.isInteger(e)?this.value[e]:null}getBottom(e){return 100*(e-this.y)/this.height}getLeft(e){return 100*(e-this.x)/this.width}getOffset(e){return 100*(this.value[e][0]-this.getX(e))/this.computeWidth(e)}onMouseEnter(e){this.hintDirective?this.hintDirective.raise(e,this):this.onHovered(e)}get isSinglePoint(){return 1===this.value.length}getD(e,n){return e.reduce((i,s,r)=>r?`${i} ${function re(o,e,n){return n?function ie(o,e,n){const[i,s]=V(o[e-1],o[e-2],o[e],!1,n),[r,l]=V(o[e],o[e-1],o[e+1],!0,n);return`C ${i},${s} ${r},${l} ${o[e][0]},${o[e][1]}`}(o,e,n/500):function oe(o){return`L ${o}`}([o[e][0],o[e][1]])}(e,r,n)}`:`M ${s}`,"")}computeWidth(e){return e===this.value.length-1?2*(this.value[e][0]-this.getX(e)):this.getX(e+1)-this.getX(e)}}(P=m).\u0275fac=function(e){return new(e||P)},P.\u0275cmp=t.Xpm({type:P,selectors:[["tui-line-chart"]],viewQuery:function(e,n){if(1&e&&t.Gf(h.TuiHintHoverDirective,5),2&e){let i;t.iGM(i=t.CRH())&&(n.drivers=i)}},hostBindings:function(e,n){1&e&&t.NdJ("mouseleave",function(){return n.onMouseLeave()})},inputs:{x:"x",y:"y",width:"width",height:"height",smoothingFactor:"smoothingFactor",xStringify:"xStringify",yStringify:"yStringify",filled:"filled",dots:"dots",valueSetter:["value","valueSetter"]},standalone:!0,features:[t._Bn([],[(0,h.tuiHintOptionsProvider)({direction:"top",hideDelay:0})]),t.jDz],decls:2,vars:3,consts:[[4,"tuiLet"],["focusable","false","height","100%","preserveAspectRatio","none","width","100%","xmlns","http://www.w3.org/2000/svg",1,"t-svg"],["x1","0","x2","0","y1","1","y2","0"],["offset","0%","stop-color","currentColor","stop-opacity","0.5"],["offset","100%","stop-color","currentColor","stop-opacity","0"],["stroke","none"],["fill","none","stroke","currentColor","stroke-width","2","vector-effect","non-scaling-stroke"],[4,"ngIf"],["class","t-dot",3,"bottom","left",4,"ngFor","ngForOf"],[1,"t-dot"],[4,"ngFor","ngForOf"],["class","t-column",3,"t-column_hint_hovered","t-column_hovered","left","width","tuiHint","tuiHintContext","tuiHintDescribe","tuiHintHost","mouseenter",4,"ngIf"],["class","t-line t-line_horizontal",3,"bottom",4,"ngIf"],[1,"t-column",3,"tuiHint","tuiHintContext","tuiHintDescribe","tuiHintHost","mouseenter"],[1,"t-line","t-line_vertical"],[1,"t-host",3,"id","tabIndex"],["hintHost",""],[1,"t-line","t-line_horizontal"],["class","t-hint t-hint_x",3,"left",4,"ngIf"],["class","t-hint t-hint_y",3,"bottom",4,"ngIf"],[1,"t-hint","t-hint_x"],[1,"t-hint","t-hint_y"]],template:function(e,n){1&e&&(t.YNc(0,ve,11,8,"ng-container",0),t.ALo(1,"async")),2&e&&t.Q6J("tuiLet",t.lcZ(1,1,n.hovered$))},dependencies:[a.TuiLetDirective,g.Ov,g.O5,h.TuiHint,k.D,W.$,G.X,g.sg],styles:['[_nghost-%COMP%]{display:flex;width:100%;height:100%;pointer-events:none}.t-svg[_ngcontent-%COMP%]{transform:scaleY(-1)}.t-column[_ngcontent-%COMP%]{position:absolute;top:0;height:100%;pointer-events:auto}.t-dot[_ngcontent-%COMP%]{position:absolute;width:.375rem;height:.375rem;border-radius:100%;background:currentColor;margin:-.1875rem;box-shadow:0 0 0 2px #fff}.t-host[_ngcontent-%COMP%]{position:absolute;left:50%;width:.5rem;height:.5rem;border-radius:100%;opacity:0;background:#fff;margin:-.25rem;box-shadow:0 0 0 2px currentColor,0 .0625rem .1875rem .125rem #0000001a;outline:none;pointer-events:none}.t-host[_ngcontent-%COMP%]:focus, .t-column_hovered[_ngcontent-%COMP%]   .t-host[_ngcontent-%COMP%], .t-column[_ngcontent-%COMP%]:hover   .t-host[_ngcontent-%COMP%], .t-column_hint_hovered[_ngcontent-%COMP%]   .t-host[_ngcontent-%COMP%]{opacity:1}.t-line[_ngcontent-%COMP%]{position:absolute;opacity:0;background:var(--tui-base-03)}.t-line_vertical[_ngcontent-%COMP%]{top:0;bottom:0;left:50%;width:1px}.t-line_horizontal[_ngcontent-%COMP%]{z-index:-1;width:100%;height:1px}[style^="z-index: 0"][_nghost-%COMP%]   .t-column_hovered[_ngcontent-%COMP%]   .t-line[_ngcontent-%COMP%], [_nghost-%COMP%]:not([style])   .t-column[_ngcontent-%COMP%]:hover   .t-line[_ngcontent-%COMP%], [_nghost-%COMP%]:not([style])   .t-column_hint_hovered[_ngcontent-%COMP%]   .t-line[_ngcontent-%COMP%], [style^="z-index: 0"][_nghost-%COMP%]   .t-column_hovered[_ngcontent-%COMP%] + .t-line[_ngcontent-%COMP%], [_nghost-%COMP%]:not([style])   .t-column[_ngcontent-%COMP%]:hover + .t-line[_ngcontent-%COMP%], [_nghost-%COMP%]:not([style])   .t-column_hint_hovered[_ngcontent-%COMP%] + .t-line[_ngcontent-%COMP%]{opacity:1}.t-hint[_ngcontent-%COMP%]{position:absolute;box-shadow:var(--tui-shadow);font:var(--tui-font-text-xs);height:1.25rem;line-height:1.25rem;margin-bottom:-.625rem;padding:0 .375rem;white-space:nowrap;color:var(--tui-base-09);background:var(--tui-base-01);transform:translate3d(-50%,0,0)}.t-hint_x[_ngcontent-%COMP%]{bottom:0}.t-hint_y[_ngcontent-%COMP%]{left:0}'],changeDetection:0}),(0,p.gn)([a.tuiPure],m.prototype,"hovered$",null),(0,p.gn)([a.tuiPure],m.prototype,"getD",null);var w,K=u(40970);function tt(o,e){return o.find(([n])=>n.daySame(e))||[e,NaN]}class ${constructor(){this.charts=a.EMPTY_QUERY,this.destroyRef=(0,t.f3M)(t.ktI),this.zone=(0,t.f3M)(t.R0b),this.hovered$=(0,t.f3M)(a.TuiHoveredService)}ngAfterContentInit(){(0,O.a)([...this.charts.map(({charts:e})=>Z(e)),this.hovered$]).pipe((0,U.h)(e=>!e.some(Boolean)),(0,a.tuiZonefree)(this.zone),(0,C.sL)(this.destroyRef)).subscribe(()=>{this.charts.forEach(e=>e.onHovered(NaN))})}getContext(e){return this.getMap(...this.charts.map(({value:n})=>n)).get(String(e))||[]}raise(e){const n=this.charts.map(({value:s})=>tt(s,e)).filter(([s,r])=>!Number.isNaN(r)),i=[...n].sort((s,r)=>s[1]-r[1]);this.charts.forEach((s,r)=>{s.onHovered(e),s.zIndex=Math.max(i.indexOf(n[r]),0)})}getMap(...e){return(e[0]||[]).reduce((n,[i])=>n.set(String(i),e.map(s=>tt(s,i))),new Map)}}(w=$).\u0275fac=function(e){return new(e||w)},w.\u0275dir=t.lG2({type:w,selectors:[["","tuiLineChartHint",""]],contentQueries:function(e,n,i){if(1&e&&t.Suo(i,L,4),2&e){let s;t.iGM(s=t.CRH())&&(n.charts=s)}},inputs:{hint:["tuiLineChartHint","hint"]},standalone:!0,features:[t._Bn([a.TuiHoveredService])]}),(0,p.gn)([a.tuiPure],$.prototype,"getMap",null);var x,Ce=u(28402);function ye(o,e){if(1&o&&t._UZ(0,"tui-line-chart",2),2&o){const n=e.$implicit,i=e.first,s=t.oxw(),r=t.MAs(2);t.Udp("z-index",s.zIndex),t.Q6J("dots",s.dots)("height",s.height)("smoothingFactor",s.smoothingFactor)("tuiHintContent",s.hintContent?r:"")("value",n)("width",i?s.firstWidth:s.getWidth(n[0][0]))("x",i?0:s.getX(n[0][0]))("xStringify",s.xStringify?s.daysStringify:null)("y",s.y)("yStringify",s.yStringify)}}function Te(o,e){if(1&o&&(t.ynx(0),t._uU(1),t.BQk()),2&o){const n=e.polymorpheusOutlet;t.xp6(1),t.hij(" ",n," ")}}const be=function(o){return{$implicit:o}};function Oe(o,e){if(1&o&&t.YNc(0,Te,2,1,"ng-container",3),2&o){const n=e.$implicit,i=t.oxw();t.Q6J("polymorpheusOutlet",i.hintContent)("polymorpheusOutletContext",t.VKq(2,be,i.getHintContext(n[0],i.value)))}}const Me=[NaN,NaN];class L{constructor(){this.destroyRef=(0,t.f3M)(t.ktI),this.zone=(0,t.f3M)(t.R0b),this.hovered$=(0,t.f3M)(a.TuiHoveredService),this.options=(0,t.f3M)(Y),this.hintDirective=(0,t.f3M)($,{optional:!0}),this.charts=a.EMPTY_QUERY,this.y=0,this.height=0,this.smoothingFactor=this.options.smoothingFactor,this.xStringify=null,this.yStringify=null,this.dots=this.options.dots,this.zIndex=0,this.value=[],this.daysStringify=e=>this.xStringify?this.xStringify(this.getDay(e)):""}set valueSetter(e){if(!e.length)return void(this.value=[]);const n=e[0][0],i=[...e],s=a.TuiDay.lengthBetween(n,e[e.length-1][0])+1;this.value=Array.from({length:s},(r,l)=>{const c=n.append({day:l}),d=c.daySame(i[0][0])?i.shift():null;return[c,d?d[1]:NaN]})}ngAfterViewInit(){(0,O.a)([Z(this.charts),this.hovered$]).pipe((0,U.h)(e=>!e.some(Boolean)),(0,a.tuiZonefree)(this.zone),(0,C.sL)(this.destroyRef)).subscribe(()=>{this.onHovered(NaN)})}onHovered(e){if((0,a.tuiIsNumber)(e))return void this.charts.forEach(r=>r.onHovered(NaN));const n=a.TuiMonth.lengthBetween(this.value[0][0],e),i=a.TuiDay.lengthBetween(this.value[0][0],e)+this.value[0][0].day-1,s=this.charts.get(n);this.charts.forEach(r=>{r===s?s.onHovered(s.value.findIndex(l=>l[0]===i)):r.onHovered(NaN)})}get months(){return this.value.length?this.breakMonths(this.value):a.EMPTY_ARRAY}get firstWidth(){return this.months.length*this.value[0][0].daysCount}get hint(){var e;return(null==(e=this.hintDirective)?void 0:e.hint)??this.hintContent}getHintContext(e,n){return n[e-n[0][0].day+1]}getX(e){const n=this.getDay(e);return e-a.TuiMonth.lengthBetween(this.value[0][0],n)*n.daysCount}raise(e,{value:n}){const s=this.getDay(n[e][0]);this.hintDirective?this.hintDirective.raise(s):this.onHovered(s)}getWidth(e){return this.getDay(e).daysCount*this.months.length}getContext(e,{value:n}){const i=n[e][0];return this.hintDirective?this.hintDirective.getContext(this.getDay(i)):this.getHintContext(i,this.value)}breakMonths(e){const n=e[0][0].day-1;return Array.from({length:a.TuiMonth.lengthBetween(e[0][0],e[e.length-1][0])+1},(i,s)=>s+e[0][0].month+12*e[0][0].year).map(i=>e.map(([{month:s,year:r},l],c)=>s+12*r===i?[c+n,l]:null).filter(a.tuiIsPresent)).map((i,s,r)=>s===r.length-1?i:[...i,r[s+1].find(l=>!Number.isNaN(l[1]))||Me])}getDay(e){return this.value[e-this.value[0][0].day+1][0]}}(x=L).\u0275fac=function(e){return new(e||x)},x.\u0275cmp=t.Xpm({type:x,selectors:[["tui-line-days-chart"]],viewQuery:function(e,n){if(1&e&&t.Gf(m,5),2&e){let i;t.iGM(i=t.CRH())&&(n.charts=i)}},hostVars:2,hostBindings:function(e,n){2&e&&t.Udp("z-index",n.zIndex)},inputs:{y:"y",height:"height",smoothingFactor:"smoothingFactor",hintContent:"hintContent",xStringify:"xStringify",yStringify:"yStringify",dots:"dots",valueSetter:["value","valueSetter"]},standalone:!0,features:[t._Bn([a.TuiHoveredService,{provide:I,useExisting:x}]),t.jDz],decls:3,vars:1,consts:[["class","t-chart",3,"dots","height","smoothingFactor","zIndex","tuiHintContent","value","width","x","xStringify","y","yStringify",4,"ngFor","ngForOf"],["hint",""],[1,"t-chart",3,"dots","height","smoothingFactor","tuiHintContent","value","width","x","xStringify","y","yStringify"],[4,"polymorpheusOutlet","polymorpheusOutletContext"]],template:function(e,n){1&e&&(t.YNc(0,ye,1,12,"tui-line-chart",0),t.YNc(1,Oe,1,4,"ng-template",null,1,t.W1O)),2&e&&t.Q6J("ngForOf",n.months)},dependencies:[m,g.sg,h.TuiHint,Ce.bZ,K.wq,K.Li],styles:["[_nghost-%COMP%]{display:block}.t-chart[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:100%;height:100%}"],changeDetection:0}),(0,p.gn)([a.tuiPure],L.prototype,"getHintContext",null),(0,p.gn)([a.tuiPure],L.prototype,"breakMonths",null);var et=u(58230),Ie=u(60902),Pe=u(91910),we=u(85941);let nt=(()=>{var o;class e{constructor(){this.sector$=new Ie.X([0,0]);const i=(0,a.tuiInjectElement)(),s=(0,t.f3M)(et.KS),r=(0,t.f3M)(et.L1),l=(0,t.f3M)(h.TUI_ANIMATIONS_SPEED);this.sector$.pipe((0,Pe.G)(),(0,z.w)(([c,d])=>{const f=s.now(),F=d[0]-c[0],Ne=d[1]-c[1];return r.pipe((0,_.U)(v=>(0,a.tuiEaseInOutQuad)((0,a.tuiClamp)((v-f)/(0,h.tuiGetDuration)(l),0,1))),(0,we.o)(v=>v<1,!0),(0,_.U)(v=>[c[0]+F*v,d[1]>359?d[1]:c[1]+Ne*v]))}),(0,a.tuiZonefree)((0,t.f3M)(t.R0b)),(0,C.sL)()).subscribe(([c,d])=>i.setAttribute("d",function te(o,e){const n=(0,a.tuiToRadians)(o),i=(0,a.tuiToRadians)(e),s=100*Math.cos(n),r=100*Math.sin(n),l=100*Math.cos(i),c=100*Math.sin(i),f=["M",s,r,"A 100 100 0",(0,a.tuiToInt)(e-o>180),1,l,c,"L 0 0"];return Number.isNaN(l)?"M 100 0 A 100 100 0 1 1 100 0 L 0 0":f.join(" ")}(c,d)))}set tuiPieChart(i){this.sector$.next(i)}}return(o=e).\u0275fac=function(i){return new(i||o)},o.\u0275dir=t.lG2({type:o,selectors:[["path","tuiPieChart",""]],inputs:{tuiPieChart:"tuiPieChart"},standalone:!0}),e})();var H,Le=u(22247);const He=function(o){return{$implicit:o}};function Se(o,e){if(1&o){const n=t.EpF();t.O4$(),t.TgZ(0,"path",5),t.NdJ("tuiHoveredChange",function(s){const l=t.CHM(n).$implicit,c=t.oxw();return t.KtG(c.onHovered(s,l))}),t.qZA()}if(2&o){const n=e.$implicit,i=t.oxw();t.Udp("color",i.getColor(n)),t.Q6J("tuiHint",i.hintContent)("tuiHintContext",t.VKq(6,He,n))("tuiPieChart",i.segments[n]),t.uIk("transform",i.getTransform(n))}}const ze={xs:"50",s:"50",m:"77.8",l:"81.9",xl:"81.3"},it={xs:1.15,s:1.25,m:1.11,l:1.09,xl:1.08};class S{constructor(){this.hintOptions=(0,t.f3M)(h.TuiHintOptionsDirective,{optional:!0}),this.autoIdString=(0,t.f3M)(a.TuiIdService).generate(),this.value=[],this.size="m",this.masked=!1,this.activeItemIndex=NaN,this.activeItemIndexChange=new t.vpe,this.hintOptions&&(this.hintOptions.showDelay=0,this.hintOptions.hideDelay=0)}get empty(){return!this.getSum(this.value)}get hintContent(){var e;return(null==(e=this.hintOptions)?void 0:e.content)||""}get maskId(){return`tui-ring-chart-${this.autoIdString}`}get mask(){return this.masked?`url(#${this.maskId})`:null}get radius(){return ze[this.size]}get segments(){return this.getSegments(this.value)}getTransform(e){return e===this.activeItemIndex?this.masked?`scale(${it[this.size]})`:`scale(${it.xs})`:null}onHovered(e,n){this.updateActiveItemIndex(e?n:NaN)}getColor(e){return`var(--tui-chart-${e})`}getSum(e){return(0,a.tuiSum)(...e)}getSegments(e){return e.map((n,i,s)=>s.reduce((r,l,c)=>c<i?this.getDeg(l)+r:r,this.getDeg(n))).map((n,i,s)=>[s[i-1]||0,Math.min(n,359.9999)])}getDeg(e){return e/this.getSum(this.value)*360}updateActiveItemIndex(e){e!==this.activeItemIndex&&(this.activeItemIndex=e,this.activeItemIndexChange.next(e))}}(H=S).\u0275fac=function(e){return new(e||H)},H.\u0275cmp=t.Xpm({type:H,selectors:[["tui-pie-chart"]],hostVars:3,hostBindings:function(e,n){2&e&&(t.uIk("data-size",n.size),t.ekj("_empty",n.empty))},inputs:{value:"value",size:"size",masked:"masked",activeItemIndex:"activeItemIndex"},outputs:{activeItemIndexChange:"activeItemIndexChange"},standalone:!0,features:[t._Bn([],[(0,h.tuiHintOptionsProvider)({direction:"top-right",appearance:"dark"})]),t.jDz],decls:8,vars:5,consts:[["focusable","false","height","100%","viewBox","-100 -100 200 200","width","100%","xmlns","http://www.w3.org/2000/svg",1,"t-svg"],["fill","white","height","400","width","400","x","-200","y","-200"],["cx","0","cy","0"],["cx","0","cy","0","r","100",1,"t-placeholder"],["automation-id","tui-pie-chart__segment","d","","fill","currentColor","tuiHintPointer","","class","t-segment",3,"color","tuiHint","tuiHintContext","tuiPieChart","tuiHoveredChange",4,"tuiRepeatTimes","tuiRepeatTimesOf"],["automation-id","tui-pie-chart__segment","d","","fill","currentColor","tuiHintPointer","",1,"t-segment",3,"tuiHint","tuiHintContext","tuiPieChart","tuiHoveredChange"]],template:function(e,n){1&e&&(t.O4$(),t.TgZ(0,"svg",0)(1,"defs")(2,"mask"),t._UZ(3,"rect",1)(4,"circle",2),t.qZA()(),t.TgZ(5,"g"),t._UZ(6,"circle",3),t.YNc(7,Se,1,8,"path",4),t.qZA()()),2&e&&(t.xp6(2),t.uIk("id",n.maskId),t.xp6(2),t.uIk("r",n.radius),t.xp6(1),t.Udp("mask",n.mask),t.xp6(2),t.Q6J("tuiRepeatTimesOf",n.segments.length))},dependencies:[h.TuiHint,k.D,Le.q,a.TuiRepeatTimesDirective,a.TuiHoveredDirective,nt],styles:["[_nghost-%COMP%]{position:relative;display:block;width:var(--t-size);height:var(--t-size)}[data-size=xs][_nghost-%COMP%]{--t-size: 2rem;pointer-events:none}[data-size=s][_nghost-%COMP%]{--t-size: 4rem}[data-size=m][_nghost-%COMP%]{--t-size: 9rem}[data-size=l][_nghost-%COMP%]{--t-size: 11rem}[data-size=xl][_nghost-%COMP%]{--t-size: 16rem}.t-svg[_ngcontent-%COMP%]{position:relative;overflow:visible;transform:rotate(-90deg)}.t-segment[_ngcontent-%COMP%]{transition-property:transform;transition-duration:var(--tui-duration, .3s);transition-timing-function:ease-in-out}._empty[_nghost-%COMP%]   .t-segment[_ngcontent-%COMP%]{display:none}.t-placeholder[_ngcontent-%COMP%]{fill:var(--tui-base-03)}"],changeDetection:0}),(0,p.gn)([a.tuiPure],S.prototype,"getSum",null),(0,p.gn)([a.tuiPure],S.prototype,"getSegments",null);const Ae=["*"];let De=(()=>{var o;class e{constructor(){this.value=[],this.size="m",this.activeItemIndex=NaN,this.activeItemIndexChange=new t.vpe}onActiveItemIndexChange(i){this.updateActiveItemIndex(i)}updateActiveItemIndex(i){i!==this.activeItemIndex&&(this.activeItemIndex=i,this.activeItemIndexChange.next(i))}}return(o=e).\u0275fac=function(i){return new(i||o)},o.\u0275cmp=t.Xpm({type:o,selectors:[["tui-ring-chart"]],hostVars:1,hostBindings:function(i,s){2&i&&t.uIk("data-size",s.size)},inputs:{value:"value",size:"size",activeItemIndex:"activeItemIndex"},outputs:{activeItemIndexChange:"activeItemIndexChange"},standalone:!0,features:[t.jDz],ngContentSelectors:Ae,decls:5,vars:4,consts:[[1,"t-content"],[1,"t-wrapper"],[1,"t-chart",3,"activeItemIndex","masked","size","value","activeItemIndexChange"],[1,"t-shield"]],template:function(i,s){1&i&&(t.F$t(),t.TgZ(0,"div",0)(1,"div",1),t.Hsn(2),t.qZA()(),t.TgZ(3,"tui-pie-chart",2),t.NdJ("activeItemIndexChange",function(l){return s.onActiveItemIndexChange(l)}),t.qZA(),t._UZ(4,"div",3)),2&i&&(t.xp6(3),t.Q6J("activeItemIndex",s.activeItemIndex)("masked",!0)("size",s.size)("value",s.value))},dependencies:[S],styles:["[_nghost-%COMP%]{position:relative;display:block;width:var(--t-size);height:var(--t-size);flex-shrink:0}[data-size=xs][_nghost-%COMP%]{--t-size: 3rem}[data-size=s][_nghost-%COMP%]{--t-size: 4rem}[data-size=m][_nghost-%COMP%]{--t-size: 9rem}[data-size=l][_nghost-%COMP%]{--t-size: 11rem}[data-size=xl][_nghost-%COMP%]{--t-size: 16rem}.t-content[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:100%;height:100%;display:flex;font:var(--tui-font-text-m);max-height:100%;flex-direction:column;justify-content:center;text-align:center;padding:1.5rem;border-radius:100%;box-sizing:border-box;overflow:hidden;word-break:break-word;white-space:pre-wrap;color:var(--tui-text-02)}[data-size=m][_nghost-%COMP%]   .t-content[_ngcontent-%COMP%]{font:var(--tui-font-text-xs)}.t-wrapper[_ngcontent-%COMP%]:first-line{color:var(--tui-text-01)}[data-size=l][_nghost-%COMP%]   .t-wrapper[_ngcontent-%COMP%]:first-line{font:var(--tui-font-text-l);font-weight:700}[data-size=m][_nghost-%COMP%]   .t-wrapper[_ngcontent-%COMP%]:first-line{font:var(--tui-font-text-m);font-weight:700}.t-shield[_ngcontent-%COMP%]{position:absolute;top:25%;left:25%;right:25%;bottom:25%;border-radius:100%}.t-chart[_ngcontent-%COMP%]{width:100%;height:100%}"],changeDetection:0}),e})()}}]);